This is a modified copy of libcoroutine, by Steve Dekorte and others. It was retrieved from https://github.com/stevedekorte/coroutine and appears not to be in active development. libcoroutine is ported to many platforms, some of which will never be relevant to RethinkDB. We may want to strip this code down to just the parts that we use, but for now I've left the entire source/ directory. In effect for us, libcoroutine forms a thin wrapper around ucontext, but it's nice because it includes code for saving and restoring all registers and includes a fibers port in case we want to work on Windows. libcoroutine coroutines cannot be moved around to different CPUs because the the FS register is saved and restored, but Linux uses that register for thread-local variables. But maybe we can get away with saving and restoring the right FS values ourselves...
