for (mode, checker) in [
        ("debug", "valgrind"),
        ("release", None)]:
    for protocol in ["text"]:
        for (cores, slices) in [(2, 8)]:
            do_test_fog("integration/serial_mix.py",
                          { "auto"        : True,
                            "mode"        : mode,
                            "no-valgrind" : not checker,
                            "no-netrecord": True,
                            "protocol"    : protocol,
                            "cores"       : cores,
                            "slices"      : slices,
                            "duration"    : 340 },
                          repeat=5, timeout=460 * ec2)
            
            do_test_fog("integration/serial_mix.py",
                          { "auto"        : True,
                            "mode"        : mode,
                            "no-valgrind" : not checker,
                            "no-netrecord": True,
                            "protocol"    : protocol,
                            "cores"       : cores,
                            "slices"      : slices,
                            "duration"    : 60,
                            "fsck"        : True},
                          repeat=5, timeout=600)


            do_test_fog("integration/serial_mix.py",
                          { "auto"        : True,
                            "mode"        : mode,
                            "no-valgrind" : not checker,
                            "no-netrecord": True,
                            "duration"    : 10,
                            "cores"       : cores,
                            "slices"      : 2 * slices,
                            "fsck"        : True,
                            "num-files"   : 2 },
                          repeat=1, timeout=120)

