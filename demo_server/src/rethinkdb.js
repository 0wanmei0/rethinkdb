(function(){
var COMPILED=!0;function nn(){}var gbl="undefined"===typeof global?window:global;gbl.goog||(gbl.goog={});var goog=gbl.goog;goog.global=gbl;goog.DEBUG=!0;goog.LOCALE="en";goog.provide=function(a){if(!COMPILED){if(goog.isProvided_(a))throw Error('Namespace "'+a+'" already declared.');delete goog.implicitNamespaces_[a];for(var b=a;(b=b.substring(0,b.lastIndexOf(".")))&&!goog.getObjectByName(b);)goog.implicitNamespaces_[b]=!0}goog.exportPath_(a)};
goog.setTestOnly=function(a){if(COMPILED&&!goog.DEBUG)throw a=a||"",Error("Importing test-only code into non-debug environment"+a?": "+a:".");};COMPILED||(goog.isProvided_=function(a){return!goog.implicitNamespaces_[a]&&!!goog.getObjectByName(a)},goog.implicitNamespaces_={});goog.exportPath_=function(a,b,c){a=a.split(".");c=c||goog.global;!(a[0]in c)&&c.execScript&&c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&goog.isDef(b)?c[d]=b:c=c[d]?c[d]:c[d]={}};
goog.getObjectByName=function(a,b){for(var c=a.split("."),d=b||goog.global,e;e=c.shift();)if(goog.isDefAndNotNull(d[e]))d=d[e];else return null;return d};goog.globalize=function(a,b){var c=b||goog.global,d;for(d in a)c[d]=a[d]};
goog.addDependency=function(a,b,c){if(!COMPILED){for(var d,a=a.replace(/\\/g,"/"),e=goog.dependencies_,f=0;d=b[f];f++)e.nameToPath[d]=a,a in e.pathToNames||(e.pathToNames[a]={}),e.pathToNames[a][d]=!0;for(d=0;b=c[d];d++)a in e.requires||(e.requires[a]={}),e.requires[a][b]=!0}};goog.ENABLE_DEBUG_LOADER=!0;
goog.require=function(a){if(!COMPILED&&!goog.isProvided_(a)){if(goog.ENABLE_DEBUG_LOADER){var b=goog.getPathFromDeps_(a);if(b){goog.included_[b]=!0;goog.writeScripts_();return}}a="goog.require could not find: "+a;goog.global.console&&goog.global.console.error(a);throw Error(a);}};goog.basePath="";goog.nullFunction=function(){};goog.identityFunction=function(a){return a};goog.abstractMethod=function(){throw Error("unimplemented abstract method");};
goog.addSingletonGetter=function(a){a.getInstance=function(){if(a.instance_)return a.instance_;goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a);return a.instance_=new a}};goog.instantiatedSingletons_=[];
!COMPILED&&goog.ENABLE_DEBUG_LOADER&&(goog.included_={},goog.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},goog.inHtmlDocument_=function(){var a=goog.global.document;return"undefined"!=typeof a&&"write"in a},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var a=goog.global.document.getElementsByTagName("script"),b=a.length-1;0<=b;--b){var c=a[b].src,d=c.lastIndexOf("?"),d=
-1==d?c.length:d;if("base.js"==c.substr(d-7,7)){goog.basePath=c.substr(0,d-7);break}}},goog.importScript_=function(a){var b=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;!goog.dependencies_.written[a]&&b(a)&&(goog.dependencies_.written[a]=!0)},goog.writeScriptTag_=function(a){return goog.inHtmlDocument_()?(goog.global.document.write('<script type="text/javascript" src="'+a+'"><\/script>'),!0):!1},goog.writeScripts_=function(){function a(e){if(!(e in d.written)){if(!(e in d.visited)&&(d.visited[e]=
!0,e in d.requires))for(var g in d.requires[e])if(!goog.isProvided_(g))if(g in d.nameToPath)a(d.nameToPath[g]);else throw Error("Undefined nameToPath for "+g);e in c||(c[e]=!0,b.push(e))}}var b=[],c={},d=goog.dependencies_,e;for(e in goog.included_)d.written[e]||a(e);for(e=0;e<b.length;e++)if(b[e])goog.importScript_(goog.basePath+b[e]);else throw Error("Undefined script input");},goog.getPathFromDeps_=function(a){return a in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[a]:null},goog.findBasePath_(),
goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js"));
goog.typeOf=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b};goog.isDef=function(a){return void 0!==a};goog.isNull=function(a){return null===a};goog.isDefAndNotNull=function(a){return null!=a};goog.isArray=function(a){return"array"==goog.typeOf(a)};goog.isArrayLike=function(a){var b=goog.typeOf(a);return"array"==b||"object"==b&&"number"==typeof a.length};goog.isDateLike=function(a){return goog.isObject(a)&&"function"==typeof a.getFullYear};goog.isString=function(a){return"string"==typeof a};
goog.isBoolean=function(a){return"boolean"==typeof a};goog.isNumber=function(a){return"number"==typeof a};goog.isFunction=function(a){return"function"==goog.typeOf(a)};goog.isObject=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b};goog.getUid=function(a){return a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.removeUid=function(a){"removeAttribute"in a&&a.removeAttribute(goog.UID_PROPERTY_);try{delete a[goog.UID_PROPERTY_]}catch(b){}};
goog.UID_PROPERTY_="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(a){var b=goog.typeOf(a);if("object"==b||"array"==b){if(a.clone)return a.clone();var b="array"==b?[]:{},c;for(c in a)b[c]=goog.cloneObject(a[c]);return b}return a};goog.bindNative_=function(a,b,c){return a.call.apply(a.bind,arguments)};
goog.bindJs_=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}};goog.bind=function(a,b,c){goog.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bindNative_:goog.bindJs_;return goog.bind.apply(null,arguments)};
goog.partial=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}};goog.mixin=function(a,b){for(var c in b)a[c]=b[c]};goog.now=Date.now||function(){return+new Date};
goog.globalEval=function(a){if(goog.global.execScript)goog.global.execScript(a,"JavaScript");else if(goog.global.eval)if(null==goog.evalWorksForGlobals_&&(goog.global.eval("var _et_ = 1;"),"undefined"!=typeof goog.global._et_?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_)goog.global.eval(a);else{var b=goog.global.document,c=b.createElement("script");c.type="text/javascript";c.defer=!1;c.appendChild(b.createTextNode(a));b.body.appendChild(c);
b.body.removeChild(c)}else throw Error("goog.globalEval not available");};goog.evalWorksForGlobals_=null;goog.getCssName=function(a,b){var c=function(a){return goog.cssNameMapping_[a]||a},d=function(a){for(var a=a.split("-"),b=[],d=0;d<a.length;d++)b.push(c(a[d]));return b.join("-")},d=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?c:d:function(a){return a};return b?a+"-"+d(b):d(a)};goog.setCssNameMapping=function(a,b){goog.cssNameMapping_=a;goog.cssNameMappingStyle_=b};
!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING);goog.getMsg=function(a,b){var c=b||{},d;for(d in c)var e=(""+c[d]).replace(/\$/g,"$$$$"),a=a.replace(RegExp("\\{\\$"+d+"\\}","gi"),e);return a};goog.exportSymbol=function(a,b,c){goog.exportPath_(a,b,c)};goog.exportProperty=function(a,b,c){a[b]=c};goog.inherits=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a};
goog.base=function(a,b,c){var d=arguments.callee.caller;if(d.superClass_)return d.superClass_.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var e=Array.prototype.slice.call(arguments,2),f=!1,g=a.constructor;g;g=g.superClass_&&g.superClass_.constructor)if(g.prototype[b]===d)f=!0;else if(f)return g.prototype[b].apply(a,e);if(a[b]===d)return a.constructor.prototype[b].apply(a,e);throw Error("goog.base called from a method of one name to a method of a different name");};
goog.scope=function(a){a.call(goog.global)};goog.global.rethinkdb=function(a){return rethinkdb.R(a)};var rethinkdbmdl={},rethinkdb={util:{}};rethinkdb.util.wrapIf_=function(a){return a instanceof rethinkdb.Query?a:rethinkdb.expr(a)};rethinkdb.util.functionWrap_=function(a){return a instanceof rethinkdb.FunctionExpression?a:rethinkdb.fn(a)};
rethinkdb.util.typeCheck_=function(a,b){if(a){var c=b;goog.isArray(b)||(c=[c]);if(!c.some(function(b){return"string"===typeof b?typeof a===b:a instanceof b})){if(goog.isArray(b))throw new TypeError("Function argument "+a+" must be one of the types "+b);throw new TypeError("Function argument "+a+" must be of the type "+b);}}};rethinkdb.util.argCheck_=function(a,b){if(a.length<b)throw new TypeError("Function requires at least "+b+" argument"+(1<b?"s.":"."));};
rethinkdb.util.newExpr_=function(a){var b=arguments[0],c=Array.prototype.slice.call(arguments,1),d=function(a){return rethinkdb.Expression.prototype.getAttr.call(d,a)};d.__proto__=b.prototype;b.apply(d,c);return d};rethinkdb.query2={};
rethinkdb.expr=function(a){return a instanceof rethinkdb.Expression?a:null===a||goog.isNumber(a)?rethinkdb.util.newExpr_(rethinkdb.NumberExpression,a):goog.isBoolean(a)?rethinkdb.util.newExpr_(rethinkdb.BooleanExpression,a):goog.isString(a)?rethinkdb.util.newExpr_(rethinkdb.StringExpression,a):goog.isArray(a)?rethinkdb.util.newExpr_(rethinkdb.ArrayExpression,a):goog.isObject(a)?rethinkdb.util.newExpr_(rethinkdb.ObjectExpression,a):rethinkdb.util.newExpr_(rethinkdb.JSONExpression,a)};
goog.exportSymbol("rethinkdb.expr",rethinkdb.expr);rethinkdb.js=function(a){rethinkdb.util.argCheck_(arguments,1);rethinkdb.util.typeCheck_(a,"string");return rethinkdb.util.newExpr_(rethinkdb.JSExpression,a)};goog.exportSymbol("rethinkdb.js",rethinkdb.js);rethinkdb.table=function(a,b){rethinkdb.util.argCheck_(arguments,1);rethinkdb.util.typeCheck_(a,"string");rethinkdb.util.typeCheck_(b,"boolean");return rethinkdb.util.newExpr_(rethinkdb.Table,a,null,b)};goog.exportSymbol("rethinkdb.table",rethinkdb.table);
rethinkdb.union=function(a){rethinkdb.util.argCheck_(arguments,2);var b=rethinkdb.util.wrapIf_(arguments[0]);return rethinkdb.Expression.prototype.union.apply(b,Array.prototype.slice.call(arguments,1))};goog.exportSymbol("rethinkdb.union",rethinkdb.union);rethinkdb.Query=function(){};rethinkdb.Query.prototype.run=function(a,b){var c=b||rethinkdb.last_connection_;if(!c)throw new rethinkdb.errors.ClientError("No connection specified and no last connection to default to.");return c.run(this,a)};
goog.exportProperty(rethinkdb.Query.prototype,"run",rethinkdb.Query.prototype.run);rethinkdb.Query.prototype.runp=function(a){(a?a.run(this):this.run(void 0)).collect(function(a){1===a.length&&(a=a[0]);console.log(a)})};goog.exportProperty(rethinkdb.Query.prototype,"runp",rethinkdb.Query.prototype.runp);rethinkdb.Query.prototype.formatQuery=function(){return"----"};rethinkdb.ReadQuery=function(){};goog.inherits(rethinkdb.ReadQuery,rethinkdb.Query);
rethinkdb.ReadQuery.prototype.buildQuery=function(a){var b=new ReadQuery,a=this.compile(a);b.setTerm(a);a=new Query;a.setType(Query.QueryType.READ);a.setReadQuery(b);return a};goog.debug={};goog.debug.Error=function(a){Error.captureStackTrace?Error.captureStackTrace(this,goog.debug.Error):this.stack=Error().stack||"";a&&(this.message=String(a))};goog.inherits(goog.debug.Error,Error);goog.debug.Error.prototype.name="CustomError";goog.string={};goog.string.Unicode={NBSP:"\u00a0"};goog.string.startsWith=function(a,b){return 0==a.lastIndexOf(b,0)};goog.string.endsWith=function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c};goog.string.caseInsensitiveStartsWith=function(a,b){return 0==goog.string.caseInsensitiveCompare(b,a.substr(0,b.length))};goog.string.caseInsensitiveEndsWith=function(a,b){return 0==goog.string.caseInsensitiveCompare(b,a.substr(a.length-b.length,b.length))};
goog.string.subs=function(a,b){for(var c=1;c<arguments.length;c++)var d=String(arguments[c]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,d);return a};goog.string.collapseWhitespace=function(a){return a.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")};goog.string.isEmpty=function(a){return/^[\s\xa0]*$/.test(a)};goog.string.isEmptySafe=function(a){return goog.string.isEmpty(goog.string.makeSafe(a))};goog.string.isBreakingWhitespace=function(a){return!/[^\t\n\r ]/.test(a)};goog.string.isAlpha=function(a){return!/[^a-zA-Z]/.test(a)};
goog.string.isNumeric=function(a){return!/[^0-9]/.test(a)};goog.string.isAlphaNumeric=function(a){return!/[^a-zA-Z0-9]/.test(a)};goog.string.isSpace=function(a){return" "==a};goog.string.isUnicodeChar=function(a){return 1==a.length&&" "<=a&&"~">=a||"\u0080"<=a&&"\ufffd">=a};goog.string.stripNewlines=function(a){return a.replace(/(\r\n|\r|\n)+/g," ")};goog.string.canonicalizeNewlines=function(a){return a.replace(/(\r\n|\r|\n)/g,"\n")};
goog.string.normalizeWhitespace=function(a){return a.replace(/\xa0|\s/g," ")};goog.string.normalizeSpaces=function(a){return a.replace(/\xa0|[ \t]+/g," ")};goog.string.collapseBreakingSpaces=function(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};goog.string.trim=function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};goog.string.trimLeft=function(a){return a.replace(/^[\s\xa0]+/,"")};goog.string.trimRight=function(a){return a.replace(/[\s\xa0]+$/,"")};
goog.string.caseInsensitiveCompare=function(a,b){var c=String(a).toLowerCase(),d=String(b).toLowerCase();return c<d?-1:c==d?0:1};goog.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g;
goog.string.numerateCompare=function(a,b){if(a==b)return 0;if(!a)return-1;if(!b)return 1;for(var c=a.toLowerCase().match(goog.string.numerateCompareRegExp_),d=b.toLowerCase().match(goog.string.numerateCompareRegExp_),e=Math.min(c.length,d.length),f=0;f<e;f++){var g=c[f],h=d[f];if(g!=h)return c=parseInt(g,10),!isNaN(c)&&(d=parseInt(h,10),!isNaN(d)&&c-d)?c-d:g<h?-1:1}return c.length!=d.length?c.length-d.length:a<b?-1:1};goog.string.urlEncode=function(a){return encodeURIComponent(String(a))};
goog.string.urlDecode=function(a){return decodeURIComponent(a.replace(/\+/g," "))};goog.string.newLineToBr=function(a,b){return a.replace(/(\r\n|\r|\n)/g,b?"<br />":"<br>")};
goog.string.htmlEscape=function(a,b){if(b)return a.replace(goog.string.amperRe_,"&amp;").replace(goog.string.ltRe_,"&lt;").replace(goog.string.gtRe_,"&gt;").replace(goog.string.quotRe_,"&quot;");if(!goog.string.allRe_.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(goog.string.amperRe_,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(goog.string.ltRe_,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(goog.string.gtRe_,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(goog.string.quotRe_,"&quot;"));return a};
goog.string.amperRe_=/&/g;goog.string.ltRe_=/</g;goog.string.gtRe_=/>/g;goog.string.quotRe_=/\"/g;goog.string.allRe_=/[&<>\"]/;goog.string.unescapeEntities=function(a){return goog.string.contains(a,"&")?"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(a):goog.string.unescapePureXmlEntities_(a):a};
goog.string.unescapeEntitiesUsingDom_=function(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},c=document.createElement("div");return a.replace(goog.string.HTML_ENTITY_PATTERN_,function(a,e){var f=b[a];if(f)return f;if("#"==e.charAt(0)){var g=Number("0"+e.substr(1));isNaN(g)||(f=String.fromCharCode(g))}f||(c.innerHTML=a+" ",f=c.firstChild.nodeValue.slice(0,-1));return b[a]=f})};
goog.string.unescapePureXmlEntities_=function(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));if(!isNaN(d))return String.fromCharCode(d)}return a}})};goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g;goog.string.whitespaceEscape=function(a,b){return goog.string.newLineToBr(a.replace(/  /g," &#160;"),b)};
goog.string.stripQuotes=function(a,b){for(var c=b.length,d=0;d<c;d++){var e=1==c?b:b.charAt(d);if(a.charAt(0)==e&&a.charAt(a.length-1)==e)return a.substring(1,a.length-1)}return a};goog.string.truncate=function(a,b,c){c&&(a=goog.string.unescapeEntities(a));a.length>b&&(a=a.substring(0,b-3)+"...");c&&(a=goog.string.htmlEscape(a));return a};
goog.string.truncateMiddle=function(a,b,c,d){c&&(a=goog.string.unescapeEntities(a));if(d&&a.length>b){d>b&&(d=b);var e=a.length-d,a=a.substring(0,b-d)+"..."+a.substring(e)}else a.length>b&&(d=Math.floor(b/2),e=a.length-d,a=a.substring(0,d+b%2)+"..."+a.substring(e));c&&(a=goog.string.htmlEscape(a));return a};goog.string.specialEscapeChars_={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\"};goog.string.jsEscapeCache_={"'":"\\'"};
goog.string.quote=function(a){a=String(a);if(a.quote)return a.quote();for(var b=['"'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0);b[c+1]=goog.string.specialEscapeChars_[d]||(31<e&&127>e?d:goog.string.escapeChar(d))}b.push('"');return b.join("")};goog.string.escapeString=function(a){for(var b=[],c=0;c<a.length;c++)b[c]=goog.string.escapeChar(a.charAt(c));return b.join("")};
goog.string.escapeChar=function(a){if(a in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[a];if(a in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[a]=goog.string.specialEscapeChars_[a];var b=a,c=a.charCodeAt(0);if(31<c&&127>c)b=a;else{if(256>c){if(b="\\x",16>c||256<c)b+="0"}else b="\\u",4096>c&&(b+="0");b+=c.toString(16).toUpperCase()}return goog.string.jsEscapeCache_[a]=b};goog.string.toMap=function(a){for(var b={},c=0;c<a.length;c++)b[a.charAt(c)]=!0;return b};
goog.string.contains=function(a,b){return-1!=a.indexOf(b)};goog.string.countOf=function(a,b){return a&&b?a.split(b).length-1:0};goog.string.removeAt=function(a,b,c){var d=a;0<=b&&(b<a.length&&0<c)&&(d=a.substr(0,b)+a.substr(b+c,a.length-b-c));return d};goog.string.remove=function(a,b){var c=RegExp(goog.string.regExpEscape(b),"");return a.replace(c,"")};goog.string.removeAll=function(a,b){var c=RegExp(goog.string.regExpEscape(b),"g");return a.replace(c,"")};
goog.string.regExpEscape=function(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};goog.string.repeat=function(a,b){return Array(b+1).join(a)};goog.string.padNumber=function(a,b,c){a=goog.isDef(c)?a.toFixed(c):String(a);c=a.indexOf(".");-1==c&&(c=a.length);return goog.string.repeat("0",Math.max(0,b-c))+a};goog.string.makeSafe=function(a){return null==a?"":String(a)};goog.string.buildString=function(a){return Array.prototype.join.call(arguments,"")};
goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)};
goog.string.compareVersions=function(a,b){for(var c=0,d=goog.string.trim(String(a)).split("."),e=goog.string.trim(String(b)).split("."),f=Math.max(d.length,e.length),g=0;0==c&&g<f;g++){var h=d[g]||"",j=e[g]||"",i=RegExp("(\\d*)(\\D*)","g"),k=RegExp("(\\d*)(\\D*)","g");do{var l=i.exec(h)||["","",""],m=k.exec(j)||["","",""];if(0==l[0].length&&0==m[0].length)break;var c=0==l[1].length?0:parseInt(l[1],10),n=0==m[1].length?0:parseInt(m[1],10),c=goog.string.compareElements_(c,n)||goog.string.compareElements_(0==
l[2].length,0==m[2].length)||goog.string.compareElements_(l[2],m[2])}while(0==c)}return c};goog.string.compareElements_=function(a,b){return a<b?-1:a>b?1:0};goog.string.HASHCODE_MAX_=4294967296;goog.string.hashCode=function(a){for(var b=0,c=0;c<a.length;++c)b=31*b+a.charCodeAt(c),b%=goog.string.HASHCODE_MAX_;return b};goog.string.uniqueStringCounter_=2147483648*Math.random()|0;goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++};
goog.string.toNumber=function(a){var b=Number(a);return 0==b&&goog.string.isEmpty(a)?NaN:b};goog.string.toCamelCase=function(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};goog.string.toSelectorCase=function(a){return String(a).replace(/([A-Z])/g,"-$1").toLowerCase()};goog.string.toTitleCase=function(a,b){var c=goog.isString(b)?goog.string.regExpEscape(b):"\\s";return a.replace(RegExp("(^"+(c?"|["+c+"]+":"")+")([a-z])","g"),function(a,b,c){return b+c.toUpperCase()})};
goog.string.parseInt=function(a){isFinite(a)&&(a=String(a));return goog.isString(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN};goog.asserts={};goog.asserts.ENABLE_ASSERTS=goog.DEBUG;goog.asserts.AssertionError=function(a,b){b.unshift(a);goog.debug.Error.call(this,goog.string.subs.apply(null,b));b.shift();this.messagePattern=a};goog.inherits(goog.asserts.AssertionError,goog.debug.Error);goog.asserts.AssertionError.prototype.name="AssertionError";goog.asserts.doAssertFailure_=function(a,b,c,d){var e="Assertion failed";if(c)var e=e+(": "+c),f=d;else a&&(e+=": "+a,f=b);throw new goog.asserts.AssertionError(""+e,f||[]);};
goog.asserts.assert=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!a&&goog.asserts.doAssertFailure_("",null,b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.fail=function(a,b){if(goog.asserts.ENABLE_ASSERTS)throw new goog.asserts.AssertionError("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};
goog.asserts.assertNumber=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(a)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertString=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isString(a)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};
goog.asserts.assertFunction=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(a)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertObject=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isObject(a)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};
goog.asserts.assertArray=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isArray(a)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertBoolean=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(a)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};
goog.asserts.assertInstanceof=function(a,b,c,d){goog.asserts.ENABLE_ASSERTS&&!(a instanceof b)&&goog.asserts.doAssertFailure_("instanceof check failed.",null,c,Array.prototype.slice.call(arguments,3));return a};goog.proto2={};goog.proto2.Util={};goog.proto2.Util.PBCHECK=!COMPILED;goog.proto2.Util.assert=function(a,b){goog.proto2.Util.PBCHECK&&goog.asserts.assert(a,b)};goog.proto2.Util.conductChecks=function(){return goog.proto2.Util.PBCHECK};goog.proto2.FieldDescriptor=function(a,b,c){this.parent_=a;goog.proto2.Util.assert(goog.string.isNumeric(b));this.tag_=b;this.name_=c.name;this.isRepeated_=!!c.repeated;this.isRequired_=!!c.required;this.fieldType_=c.fieldType;this.nativeType_=c.type;this.deserializationConversionPermitted_=!1;switch(this.fieldType_){case goog.proto2.FieldDescriptor.FieldType.INT64:case goog.proto2.FieldDescriptor.FieldType.UINT64:case goog.proto2.FieldDescriptor.FieldType.FIXED64:case goog.proto2.FieldDescriptor.FieldType.SFIXED64:case goog.proto2.FieldDescriptor.FieldType.SINT64:this.deserializationConversionPermitted_=
!0}this.defaultValue_=c.defaultValue};goog.proto2.FieldDescriptor.FieldType={DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18};goog.proto2.FieldDescriptor.prototype.getTag=function(){return this.tag_};goog.proto2.FieldDescriptor.prototype.getContainingType=function(){return this.parent_.descriptor_};goog.proto2.FieldDescriptor.prototype.getName=function(){return this.name_};
goog.proto2.FieldDescriptor.prototype.getDefaultValue=function(){if(void 0===this.defaultValue_){var a=this.nativeType_;this.defaultValue_=a===Boolean?!1:a===Number?0:a===String?"":new a}return this.defaultValue_};goog.proto2.FieldDescriptor.prototype.getFieldType=function(){return this.fieldType_};goog.proto2.FieldDescriptor.prototype.getNativeType=function(){return this.nativeType_};goog.proto2.FieldDescriptor.prototype.deserializationConversionPermitted=function(){return this.deserializationConversionPermitted_};
goog.proto2.FieldDescriptor.prototype.getFieldMessageType=function(){goog.proto2.Util.assert(this.isCompositeType(),"Expected message or group");return this.nativeType_.descriptor_};goog.proto2.FieldDescriptor.prototype.isCompositeType=function(){return this.fieldType_==goog.proto2.FieldDescriptor.FieldType.MESSAGE||this.fieldType_==goog.proto2.FieldDescriptor.FieldType.GROUP};goog.proto2.FieldDescriptor.prototype.isRepeated=function(){return this.isRepeated_};
goog.proto2.FieldDescriptor.prototype.isRequired=function(){return this.isRequired_};goog.proto2.FieldDescriptor.prototype.isOptional=function(){return!this.isRepeated_&&!this.isRequired_};goog.object={};goog.object.forEach=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)};goog.object.filter=function(a,b,c){var d={},e;for(e in a)b.call(c,a[e],e,a)&&(d[e]=a[e]);return d};goog.object.map=function(a,b,c){var d={},e;for(e in a)d[e]=b.call(c,a[e],e,a);return d};goog.object.some=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return!0;return!1};goog.object.every=function(a,b,c){for(var d in a)if(!b.call(c,a[d],d,a))return!1;return!0};
goog.object.getCount=function(a){var b=0,c;for(c in a)b++;return b};goog.object.getAnyKey=function(a){for(var b in a)return b};goog.object.getAnyValue=function(a){for(var b in a)return a[b]};goog.object.contains=function(a,b){return goog.object.containsValue(a,b)};goog.object.getValues=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b};goog.object.getKeys=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};
goog.object.getValueByKeys=function(a,b){for(var c=goog.isArrayLike(b),d=c?b:arguments,c=c?0:1;c<d.length&&!(a=a[d[c]],!goog.isDef(a));c++);return a};goog.object.containsKey=function(a,b){return b in a};goog.object.containsValue=function(a,b){for(var c in a)if(a[c]==b)return!0;return!1};goog.object.findKey=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d};goog.object.findValue=function(a,b,c){return(b=goog.object.findKey(a,b,c))&&a[b]};
goog.object.isEmpty=function(a){for(var b in a)return!1;return!0};goog.object.clear=function(a){for(var b in a)delete a[b]};goog.object.remove=function(a,b){var c;(c=b in a)&&delete a[b];return c};goog.object.add=function(a,b,c){if(b in a)throw Error('The object already contains the key "'+b+'"');goog.object.set(a,b,c)};goog.object.get=function(a,b,c){return b in a?a[b]:c};goog.object.set=function(a,b,c){a[b]=c};goog.object.setIfUndefined=function(a,b,c){return b in a?a[b]:a[b]=c};
goog.object.clone=function(a){var b={},c;for(c in a)b[c]=a[c];return b};goog.object.unsafeClone=function(a){var b=goog.typeOf(a);if("object"==b||"array"==b){if(a.clone)return a.clone();var b="array"==b?[]:{},c;for(c in a)b[c]=goog.object.unsafeClone(a[c]);return b}return a};goog.object.transpose=function(a){var b={},c;for(c in a)b[a[c]]=c;return b};goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
goog.object.extend=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<goog.object.PROTOTYPE_FIELDS_.length;f++)c=goog.object.PROTOTYPE_FIELDS_[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};
goog.object.create=function(a){var b=arguments.length;if(1==b&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(b%2)throw Error("Uneven number of arguments");for(var c={},d=0;d<b;d+=2)c[arguments[d]]=arguments[d+1];return c};goog.object.createSet=function(a){var b=arguments.length;if(1==b&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};goog.array={};goog.NATIVE_ARRAY_PROTOTYPES=!0;goog.array.peek=function(a){return a[a.length-1]};goog.array.ARRAY_PROTOTYPE_=Array.prototype;
goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.indexOf?function(a,b,c){goog.asserts.assert(null!=a.length);return goog.array.ARRAY_PROTOTYPE_.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(goog.isString(a))return!goog.isString(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};
goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.lastIndexOf?function(a,b,c){goog.asserts.assert(null!=a.length);return goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){c=null==c?a.length-1:c;0>c&&(c=Math.max(0,a.length+c));if(goog.isString(a))return!goog.isString(b)||1!=b.length?-1:a.lastIndexOf(b,c);for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1};
goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.forEach?function(a,b,c){goog.asserts.assert(null!=a.length);goog.array.ARRAY_PROTOTYPE_.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};goog.array.forEachRight=function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,d=d-1;0<=d;--d)d in e&&b.call(c,e[d],d,a)};
goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.filter?function(a,b,c){goog.asserts.assert(null!=a.length);return goog.array.ARRAY_PROTOTYPE_.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=goog.isString(a)?a.split(""):a,h=0;h<d;h++)if(h in g){var j=g[h];b.call(c,j,h,a)&&(e[f++]=j)}return e};
goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.map?function(a,b,c){goog.asserts.assert(null!=a.length);return goog.array.ARRAY_PROTOTYPE_.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=goog.isString(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e};goog.array.reduce=function(a,b,c,d){if(a.reduce)return d?a.reduce(goog.bind(b,d),c):a.reduce(b,c);var e=c;goog.array.forEach(a,function(c,g){e=b.call(d,e,c,g,a)});return e};
goog.array.reduceRight=function(a,b,c,d){if(a.reduceRight)return d?a.reduceRight(goog.bind(b,d),c):a.reduceRight(b,c);var e=c;goog.array.forEachRight(a,function(c,g){e=b.call(d,e,c,g,a)});return e};
goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.some?function(a,b,c){goog.asserts.assert(null!=a.length);return goog.array.ARRAY_PROTOTYPE_.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};
goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.every?function(a,b,c){goog.asserts.assert(null!=a.length);return goog.array.ARRAY_PROTOTYPE_.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};goog.array.find=function(a,b,c){b=goog.array.findIndex(a,b,c);return 0>b?null:goog.isString(a)?a.charAt(b):a[b]};
goog.array.findIndex=function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1};goog.array.findRight=function(a,b,c){b=goog.array.findIndexRight(a,b,c);return 0>b?null:goog.isString(a)?a.charAt(b):a[b]};goog.array.findIndexRight=function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,d=d-1;0<=d;d--)if(d in e&&b.call(c,e[d],d,a))return d;return-1};goog.array.contains=function(a,b){return 0<=goog.array.indexOf(a,b)};
goog.array.isEmpty=function(a){return 0==a.length};goog.array.clear=function(a){if(!goog.isArray(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0};goog.array.insert=function(a,b){goog.array.contains(a,b)||a.push(b)};goog.array.insertAt=function(a,b,c){goog.array.splice(a,c,0,b)};goog.array.insertArrayAt=function(a,b,c){goog.partial(goog.array.splice,a,c,0).apply(null,b)};
goog.array.insertBefore=function(a,b,c){var d;2==arguments.length||0>(d=goog.array.indexOf(a,c))?a.push(b):goog.array.insertAt(a,b,d)};goog.array.remove=function(a,b){var c=goog.array.indexOf(a,b),d;(d=0<=c)&&goog.array.removeAt(a,c);return d};goog.array.removeAt=function(a,b){goog.asserts.assert(null!=a.length);return 1==goog.array.ARRAY_PROTOTYPE_.splice.call(a,b,1).length};goog.array.removeIf=function(a,b,c){b=goog.array.findIndex(a,b,c);return 0<=b?(goog.array.removeAt(a,b),!0):!1};
goog.array.concat=function(a){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)};goog.array.toArray=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};goog.array.clone=goog.array.toArray;
goog.array.extend=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],e;if(goog.isArray(d)||(e=goog.isArrayLike(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(e)for(var f=a.length,g=d.length,h=0;h<g;h++)a[f+h]=d[h];else a.push(d)}};goog.array.splice=function(a,b,c,d){goog.asserts.assert(null!=a.length);return goog.array.ARRAY_PROTOTYPE_.splice.apply(a,goog.array.slice(arguments,1))};
goog.array.slice=function(a,b,c){goog.asserts.assert(null!=a.length);return 2>=arguments.length?goog.array.ARRAY_PROTOTYPE_.slice.call(a,b):goog.array.ARRAY_PROTOTYPE_.slice.call(a,b,c)};goog.array.removeDuplicates=function(a,b){for(var c=b||a,d={},e=0,f=0;f<a.length;){var g=a[f++],h=goog.isObject(g)?"o"+goog.getUid(g):(typeof g).charAt(0)+g;Object.prototype.hasOwnProperty.call(d,h)||(d[h]=!0,c[e++]=g)}c.length=e};
goog.array.binarySearch=function(a,b,c){return goog.array.binarySearch_(a,c||goog.array.defaultCompare,!1,b)};goog.array.binarySelect=function(a,b,c){return goog.array.binarySearch_(a,b,!0,void 0,c)};goog.array.binarySearch_=function(a,b,c,d,e){for(var f=0,g=a.length,h;f<g;){var j=f+g>>1,i;i=c?b.call(e,a[j],j,a):b(d,a[j]);0<i?f=j+1:(g=j,h=!i)}return h?f:~f};goog.array.sort=function(a,b){goog.asserts.assert(null!=a.length);goog.array.ARRAY_PROTOTYPE_.sort.call(a,b||goog.array.defaultCompare)};
goog.array.stableSort=function(a,b){for(var c=0;c<a.length;c++)a[c]={index:c,value:a[c]};var d=b||goog.array.defaultCompare;goog.array.sort(a,function(a,b){return d(a.value,b.value)||a.index-b.index});for(c=0;c<a.length;c++)a[c]=a[c].value};goog.array.sortObjectsByKey=function(a,b,c){var d=c||goog.array.defaultCompare;goog.array.sort(a,function(a,c){return d(a[b],c[b])})};
goog.array.isSorted=function(a,b,c){for(var b=b||goog.array.defaultCompare,d=1;d<a.length;d++){var e=b(a[d-1],a[d]);if(0<e||0==e&&c)return!1}return!0};goog.array.equals=function(a,b,c){if(!goog.isArrayLike(a)||!goog.isArrayLike(b)||a.length!=b.length)return!1;for(var d=a.length,c=c||goog.array.defaultCompareEquality,e=0;e<d;e++)if(!c(a[e],b[e]))return!1;return!0};goog.array.compare=function(a,b,c){return goog.array.equals(a,b,c)};
goog.array.compare3=function(a,b,c){for(var c=c||goog.array.defaultCompare,d=Math.min(a.length,b.length),e=0;e<d;e++){var f=c(a[e],b[e]);if(0!=f)return f}return goog.array.defaultCompare(a.length,b.length)};goog.array.defaultCompare=function(a,b){return a>b?1:a<b?-1:0};goog.array.defaultCompareEquality=function(a,b){return a===b};goog.array.binaryInsert=function(a,b,c){c=goog.array.binarySearch(a,b,c);return 0>c?(goog.array.insertAt(a,b,-(c+1)),!0):!1};
goog.array.binaryRemove=function(a,b,c){b=goog.array.binarySearch(a,b,c);return 0<=b?goog.array.removeAt(a,b):!1};goog.array.bucket=function(a,b){for(var c={},d=0;d<a.length;d++){var e=a[d],f=b(e,d,a);goog.isDef(f)&&(c[f]||(c[f]=[])).push(e)}return c};goog.array.repeat=function(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c};goog.array.flatten=function(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];goog.isArray(d)?b.push.apply(b,goog.array.flatten.apply(null,d)):b.push(d)}return b};
goog.array.rotate=function(a,b){goog.asserts.assert(null!=a.length);a.length&&(b%=a.length,0<b?goog.array.ARRAY_PROTOTYPE_.unshift.apply(a,a.splice(-b,b)):0>b&&goog.array.ARRAY_PROTOTYPE_.push.apply(a,a.splice(0,-b)));return a};goog.array.zip=function(a){if(!arguments.length)return[];for(var b=[],c=0;;c++){for(var d=[],e=0;e<arguments.length;e++){var f=arguments[e];if(c>=f.length)return b;d.push(f[c])}b.push(d)}};
goog.array.shuffle=function(a,b){for(var c=b||Math.random,d=a.length-1;0<d;d--){var e=Math.floor(c()*(d+1)),f=a[d];a[d]=a[e];a[e]=f}};goog.proto2.Descriptor=function(a,b,c){this.messageType_=a;this.name_=b.name||null;this.fullName_=b.fullName||null;this.containingType_=b.containingType;this.fields_={};for(a=0;a<c.length;a++)b=c[a],this.fields_[b.getTag()]=b};goog.proto2.Descriptor.prototype.getName=function(){return this.name_};goog.proto2.Descriptor.prototype.getFullName=function(){return this.fullName_};goog.proto2.Descriptor.prototype.getContainingType=function(){return!this.containingType_?null:this.containingType_.getDescriptor()};
goog.proto2.Descriptor.prototype.getFields=function(){var a=goog.object.getValues(this.fields_);goog.array.sort(a,function(a,c){return a.getTag()-c.getTag()});return a};goog.proto2.Descriptor.prototype.getFieldsMap=function(){return this.fields_};goog.proto2.Descriptor.prototype.findFieldByName=function(a){return goog.object.findValue(this.fields_,function(b){return b.getName()==a})||null};
goog.proto2.Descriptor.prototype.findFieldByTag=function(a){goog.proto2.Util.assert(goog.string.isNumeric(a));return this.fields_[parseInt(a,10)]||null};goog.proto2.Descriptor.prototype.createMessageInstance=function(){return new this.messageType_};goog.proto2.Message=function(){this.values_={};this.descriptor_=this.constructor.descriptor_;this.fields_=this.descriptor_.getFieldsMap();this.deserializedFields_=this.lazyDeserializer_=null};goog.proto2.Message.FieldType={DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18};
goog.proto2.Message.prototype.initializeForLazyDeserializer=function(a,b){this.lazyDeserializer_=a;this.values_=b;this.deserializedFields_={}};goog.proto2.Message.prototype.setUnknown=function(a,b){goog.proto2.Util.assert(!this.fields_[a],"Field is not unknown in this message");goog.proto2.Util.assert(1<=a,"Tag is not valid");goog.proto2.Util.assert(null!==b,"Value cannot be null");this.values_[a]=b;this.deserializedFields_&&delete this.deserializedFields_[a]};
goog.proto2.Message.prototype.forEachUnknown=function(a,b){var c=b||this,d;for(d in this.values_)this.fields_[d]||a.call(c,Number(d),this.values_[d])};goog.proto2.Message.prototype.getDescriptor=function(){return this.descriptor_};goog.proto2.Message.prototype.has=function(a){goog.proto2.Util.assert(a.getContainingType()==this.descriptor_,"The current message does not contain the given field");return this.has$Value(a.getTag())};
goog.proto2.Message.prototype.arrayOf=function(a){goog.proto2.Util.assert(a.getContainingType()==this.descriptor_,"The current message does not contain the given field");return this.array$Values(a.getTag())};goog.proto2.Message.prototype.countOf=function(a){goog.proto2.Util.assert(a.getContainingType()==this.descriptor_,"The current message does not contain the given field");return this.count$Values(a.getTag())};
goog.proto2.Message.prototype.get=function(a,b){goog.proto2.Util.assert(a.getContainingType()==this.descriptor_,"The current message does not contain the given field");return this.get$Value(a.getTag(),b)};goog.proto2.Message.prototype.getOrDefault=function(a,b){goog.proto2.Util.assert(a.getContainingType()==this.descriptor_,"The current message does not contain the given field");return this.get$ValueOrDefault(a.getTag(),b)};
goog.proto2.Message.prototype.set=function(a,b){goog.proto2.Util.assert(a.getContainingType()==this.descriptor_,"The current message does not contain the given field");this.set$Value(a.getTag(),b)};goog.proto2.Message.prototype.add=function(a,b){goog.proto2.Util.assert(a.getContainingType()==this.descriptor_,"The current message does not contain the given field");this.add$Value(a.getTag(),b)};
goog.proto2.Message.prototype.clear=function(a){goog.proto2.Util.assert(a.getContainingType()==this.descriptor_,"The current message does not contain the given field");this.clear$Field(a.getTag())};
goog.proto2.Message.prototype.equals=function(a){if(!a||this.constructor!=a.constructor)return!1;for(var b=this.getDescriptor().getFields(),c=0;c<b.length;c++){var d=b[c];if(this.has(d)!=a.has(d))return!1;if(this.has(d)){var e=d.isCompositeType(),f=this.getValueForField_(d),g=a.getValueForField_(d);if(d.isRepeated()){if(f.length!=g.length)return!1;for(d=0;d<f.length;d++)if(!(e?f[d].equals(g[d]):f[d]==g[d]))return!1}else if(!(e?f.equals(g):f==g))return!1}}return!0};
goog.proto2.Message.prototype.copyFrom=function(a){goog.proto2.Util.assert(this.constructor==a.constructor,"The source message must have the same type.");this.values_={};this.deserializedFields_&&(this.deserializedFields_={});this.mergeFrom(a)};
goog.proto2.Message.prototype.mergeFrom=function(a){goog.proto2.Util.assert(this.constructor==a.constructor,"The source message must have the same type.");for(var b=this.getDescriptor().getFields(),c=0;c<b.length;c++){var d=b[c];if(a.has(d)){this.deserializedFields_&&delete this.deserializedFields_[d.getTag()];var e=d.isCompositeType();if(d.isRepeated())for(var f=a.arrayOf(d),g=0;g<f.length;g++)this.add(d,e?f[g].clone():f[g]);else f=a.getValueForField_(d),e?(e=this.getValueForField_(d))?e.mergeFrom(f):
this.set(d,f.clone()):this.set(d,f)}}};goog.proto2.Message.prototype.clone=function(){var a=new this.constructor;a.copyFrom(this);return a};goog.proto2.Message.prototype.initDefaults=function(a){for(var b=this.getDescriptor().getFields(),c=0;c<b.length;c++){var d=b[c],e=d.getTag(),f=d.isCompositeType();!this.has(d)&&!d.isRepeated()&&(f?this.values_[e]=new (d.getNativeType()):a&&(this.values_[e]=d.getDefaultValue()));if(f)if(d.isRepeated()){d=this.array$Values(e);for(e=0;e<d.length;e++)d[e].initDefaults(a)}else this.get$Value(e).initDefaults(a)}};
goog.proto2.Message.prototype.getFieldByTag_=function(a){goog.proto2.Util.assert(this.fields_[a],"No field found for the given tag");return this.fields_[a]};goog.proto2.Message.prototype.has$Value=function(a){goog.proto2.Util.assert(this.fields_[a],"No field found for the given tag");return a in this.values_&&goog.isDef(this.values_[a])&&null!==this.values_[a]};
goog.proto2.Message.prototype.getValueForField_=function(a){var b=a.getTag();if(!b in this.values_)return null;var c=this.values_[b];return null==c?null:this.lazyDeserializer_?!(b in this.deserializedFields_)?(a=this.lazyDeserializer_.deserializeField(this,a,c),this.deserializedFields_[b]=a):this.deserializedFields_[b]:c};
goog.proto2.Message.prototype.get$Value=function(a,b){var c=this.getFieldByTag_(a),d=this.getValueForField_(c);if(c.isRepeated())return goog.proto2.Util.assert(goog.isArray(d)),c=b||0,goog.proto2.Util.assert(0<=c&&c<d.length,"Given index is out of bounds"),d[c];goog.proto2.Util.assert(!goog.isArray(d));return d};goog.proto2.Message.prototype.get$ValueOrDefault=function(a,b){return!this.has$Value(a)?this.getFieldByTag_(a).getDefaultValue():this.get$Value(a,b)};
goog.proto2.Message.prototype.array$Values=function(a){goog.proto2.Util.assert(this.getFieldByTag_(a).isRepeated(),"Cannot call fieldArray on a non-repeated field");a=this.getFieldByTag_(a);a=this.getValueForField_(a);goog.proto2.Util.assert(null==a||goog.isArray(a));return a||[]};
goog.proto2.Message.prototype.count$Values=function(a){return this.getFieldByTag_(a).isRepeated()?(this.has$Value(a)&&goog.proto2.Util.assert(goog.isArray(this.values_[a])),this.has$Value(a)?this.values_[a].length:0):this.has$Value(a)?1:0};
goog.proto2.Message.prototype.set$Value=function(a,b){if(goog.proto2.Util.conductChecks()){var c=this.getFieldByTag_(a);goog.proto2.Util.assert(!c.isRepeated(),"Cannot call set on a repeated field");this.checkFieldType_(c,b)}this.values_[a]=b;this.deserializedFields_&&(this.deserializedFields_[a]=b)};
goog.proto2.Message.prototype.add$Value=function(a,b){if(goog.proto2.Util.conductChecks()){var c=this.getFieldByTag_(a);goog.proto2.Util.assert(c.isRepeated(),"Cannot call add on a non-repeated field");this.checkFieldType_(c,b)}this.values_[a]||(this.values_[a]=[]);this.values_[a].push(b);this.deserializedFields_&&delete this.deserializedFields_[a]};
goog.proto2.Message.prototype.checkFieldType_=function(a,b){goog.proto2.Util.assert(null!==b);var c=a.getNativeType();c===String?goog.proto2.Util.assert("string"===typeof b,"Expected value of type string"):c===Boolean?goog.proto2.Util.assert("boolean"===typeof b,"Expected value of type boolean"):c===Number?goog.proto2.Util.assert("number"===typeof b,"Expected value of type number"):a.getFieldType()==goog.proto2.FieldDescriptor.FieldType.ENUM?goog.proto2.Util.assert("number"===typeof b,"Expected an enum value, which is a number"):
goog.proto2.Util.assert(b instanceof c,"Expected a matching message type")};goog.proto2.Message.prototype.clear$Field=function(a){goog.proto2.Util.assert(this.getFieldByTag_(a),"Unknown field");delete this.values_[a];this.deserializedFields_&&delete this.deserializedFields_[a]};
goog.proto2.Message.set$Metadata=function(a,b){var c=[],d,e;for(e in b)b.hasOwnProperty(e)&&(goog.proto2.Util.assert(goog.string.isNumeric(e),"Keys must be numeric"),0==e?d=b[0]:c.push(new goog.proto2.FieldDescriptor(a,e,b[e])));goog.proto2.Util.assert(d);a.descriptor_=new goog.proto2.Descriptor(a,d,c);a.getDescriptor=function(){return a.descriptor_}};var TableRef=function(){goog.proto2.Message.apply(this)};goog.inherits(TableRef,goog.proto2.Message);TableRef.prototype.getDbName=function(){return this.get$Value(1)};TableRef.prototype.getDbNameOrDefault=function(){return this.get$ValueOrDefault(1)};TableRef.prototype.setDbName=function(a){this.set$Value(1,a)};TableRef.prototype.hasDbName=function(){return this.has$Value(1)};TableRef.prototype.dbNameCount=function(){return this.count$Values(1)};TableRef.prototype.clearDbName=function(){this.clear$Field(1)};
TableRef.prototype.getTableName=function(){return this.get$Value(2)};TableRef.prototype.getTableNameOrDefault=function(){return this.get$ValueOrDefault(2)};TableRef.prototype.setTableName=function(a){this.set$Value(2,a)};TableRef.prototype.hasTableName=function(){return this.has$Value(2)};TableRef.prototype.tableNameCount=function(){return this.count$Values(2)};TableRef.prototype.clearTableName=function(){this.clear$Field(2)};TableRef.prototype.getUseOutdated=function(){return this.get$Value(3)};
TableRef.prototype.getUseOutdatedOrDefault=function(){return this.get$ValueOrDefault(3)};TableRef.prototype.setUseOutdated=function(a){this.set$Value(3,a)};TableRef.prototype.hasUseOutdated=function(){return this.has$Value(3)};TableRef.prototype.useOutdatedCount=function(){return this.count$Values(3)};TableRef.prototype.clearUseOutdated=function(){this.clear$Field(3)};var VarTermTuple=function(){goog.proto2.Message.apply(this)};goog.inherits(VarTermTuple,goog.proto2.Message);
VarTermTuple.prototype.getVar=function(){return this.get$Value(1)};VarTermTuple.prototype.getVarOrDefault=function(){return this.get$ValueOrDefault(1)};VarTermTuple.prototype.setVar=function(a){this.set$Value(1,a)};VarTermTuple.prototype.hasVar=function(){return this.has$Value(1)};VarTermTuple.prototype.varCount=function(){return this.count$Values(1)};VarTermTuple.prototype.clearVar=function(){this.clear$Field(1)};VarTermTuple.prototype.getTerm=function(){return this.get$Value(2)};
VarTermTuple.prototype.getTermOrDefault=function(){return this.get$ValueOrDefault(2)};VarTermTuple.prototype.setTerm=function(a){this.set$Value(2,a)};VarTermTuple.prototype.hasTerm=function(){return this.has$Value(2)};VarTermTuple.prototype.termCount=function(){return this.count$Values(2)};VarTermTuple.prototype.clearTerm=function(){this.clear$Field(2)};var Term=function(){goog.proto2.Message.apply(this)};goog.inherits(Term,goog.proto2.Message);Term.prototype.getType=function(){return this.get$Value(1)};
Term.prototype.getTypeOrDefault=function(){return this.get$ValueOrDefault(1)};Term.prototype.setType=function(a){this.set$Value(1,a)};Term.prototype.hasType=function(){return this.has$Value(1)};Term.prototype.typeCount=function(){return this.count$Values(1)};Term.prototype.clearType=function(){this.clear$Field(1)};Term.prototype.getVar=function(){return this.get$Value(2)};Term.prototype.getVarOrDefault=function(){return this.get$ValueOrDefault(2)};
Term.prototype.setVar=function(a){this.set$Value(2,a)};Term.prototype.hasVar=function(){return this.has$Value(2)};Term.prototype.varCount=function(){return this.count$Values(2)};Term.prototype.clearVar=function(){this.clear$Field(2)};Term.prototype.getLet=function(){return this.get$Value(3)};Term.prototype.getLetOrDefault=function(){return this.get$ValueOrDefault(3)};Term.prototype.setLet=function(a){this.set$Value(3,a)};Term.prototype.hasLet=function(){return this.has$Value(3)};
Term.prototype.letCount=function(){return this.count$Values(3)};Term.prototype.clearLet=function(){this.clear$Field(3)};Term.prototype.getCall=function(){return this.get$Value(4)};Term.prototype.getCallOrDefault=function(){return this.get$ValueOrDefault(4)};Term.prototype.setCall=function(a){this.set$Value(4,a)};Term.prototype.hasCall=function(){return this.has$Value(4)};Term.prototype.callCount=function(){return this.count$Values(4)};Term.prototype.clearCall=function(){this.clear$Field(4)};
Term.prototype.getIf=function(){return this.get$Value(5)};Term.prototype.getIfOrDefault=function(){return this.get$ValueOrDefault(5)};Term.prototype.setIf=function(a){this.set$Value(5,a)};Term.prototype.hasIf=function(){return this.has$Value(5)};Term.prototype.ifCount=function(){return this.count$Values(5)};Term.prototype.clearIf=function(){this.clear$Field(5)};Term.prototype.getError=function(){return this.get$Value(6)};Term.prototype.getErrorOrDefault=function(){return this.get$ValueOrDefault(6)};
Term.prototype.setError=function(a){this.set$Value(6,a)};Term.prototype.hasError=function(){return this.has$Value(6)};Term.prototype.errorCount=function(){return this.count$Values(6)};Term.prototype.clearError=function(){this.clear$Field(6)};Term.prototype.getNumber=function(){return this.get$Value(7)};Term.prototype.getNumberOrDefault=function(){return this.get$ValueOrDefault(7)};Term.prototype.setNumber=function(a){this.set$Value(7,a)};Term.prototype.hasNumber=function(){return this.has$Value(7)};
Term.prototype.numberCount=function(){return this.count$Values(7)};Term.prototype.clearNumber=function(){this.clear$Field(7)};Term.prototype.getValuestring=function(){return this.get$Value(8)};Term.prototype.getValuestringOrDefault=function(){return this.get$ValueOrDefault(8)};Term.prototype.setValuestring=function(a){this.set$Value(8,a)};Term.prototype.hasValuestring=function(){return this.has$Value(8)};Term.prototype.valuestringCount=function(){return this.count$Values(8)};
Term.prototype.clearValuestring=function(){this.clear$Field(8)};Term.prototype.getJsonstring=function(){return this.get$Value(9)};Term.prototype.getJsonstringOrDefault=function(){return this.get$ValueOrDefault(9)};Term.prototype.setJsonstring=function(a){this.set$Value(9,a)};Term.prototype.hasJsonstring=function(){return this.has$Value(9)};Term.prototype.jsonstringCount=function(){return this.count$Values(9)};Term.prototype.clearJsonstring=function(){this.clear$Field(9)};
Term.prototype.getValuebool=function(){return this.get$Value(10)};Term.prototype.getValueboolOrDefault=function(){return this.get$ValueOrDefault(10)};Term.prototype.setValuebool=function(a){this.set$Value(10,a)};Term.prototype.hasValuebool=function(){return this.has$Value(10)};Term.prototype.valueboolCount=function(){return this.count$Values(10)};Term.prototype.clearValuebool=function(){this.clear$Field(10)};Term.prototype.getArray=function(a){return this.get$Value(11,a)};
Term.prototype.getArrayOrDefault=function(a){return this.get$ValueOrDefault(11,a)};Term.prototype.addArray=function(a){this.add$Value(11,a)};Term.prototype.arrayArray=function(){return this.array$Values(11)};Term.prototype.hasArray=function(){return this.has$Value(11)};Term.prototype.arrayCount=function(){return this.count$Values(11)};Term.prototype.clearArray=function(){this.clear$Field(11)};Term.prototype.getObject=function(a){return this.get$Value(12,a)};
Term.prototype.getObjectOrDefault=function(a){return this.get$ValueOrDefault(12,a)};Term.prototype.addObject=function(a){this.add$Value(12,a)};Term.prototype.objectArray=function(){return this.array$Values(12)};Term.prototype.hasObject=function(){return this.has$Value(12)};Term.prototype.objectCount=function(){return this.count$Values(12)};Term.prototype.clearObject=function(){this.clear$Field(12)};Term.prototype.getGetByKey=function(){return this.get$Value(14)};
Term.prototype.getGetByKeyOrDefault=function(){return this.get$ValueOrDefault(14)};Term.prototype.setGetByKey=function(a){this.set$Value(14,a)};Term.prototype.hasGetByKey=function(){return this.has$Value(14)};Term.prototype.getByKeyCount=function(){return this.count$Values(14)};Term.prototype.clearGetByKey=function(){this.clear$Field(14)};Term.prototype.getTable=function(){return this.get$Value(15)};Term.prototype.getTableOrDefault=function(){return this.get$ValueOrDefault(15)};
Term.prototype.setTable=function(a){this.set$Value(15,a)};Term.prototype.hasTable=function(){return this.has$Value(15)};Term.prototype.tableCount=function(){return this.count$Values(15)};Term.prototype.clearTable=function(){this.clear$Field(15)};Term.prototype.getJavascript=function(){return this.get$Value(16)};Term.prototype.getJavascriptOrDefault=function(){return this.get$ValueOrDefault(16)};Term.prototype.setJavascript=function(a){this.set$Value(16,a)};Term.prototype.hasJavascript=function(){return this.has$Value(16)};
Term.prototype.javascriptCount=function(){return this.count$Values(16)};Term.prototype.clearJavascript=function(){this.clear$Field(16)};Term.TermType={JSON_NULL:0,VAR:1,LET:2,CALL:3,IF:4,ERROR:5,NUMBER:6,STRING:7,JSON:8,BOOL:9,ARRAY:10,OBJECT:11,GETBYKEY:12,TABLE:13,JAVASCRIPT:14,IMPLICIT_VAR:15};Term.Let=function(){goog.proto2.Message.apply(this)};goog.inherits(Term.Let,goog.proto2.Message);Term.Let.prototype.getBinds=function(a){return this.get$Value(1,a)};
Term.Let.prototype.getBindsOrDefault=function(a){return this.get$ValueOrDefault(1,a)};Term.Let.prototype.addBinds=function(a){this.add$Value(1,a)};Term.Let.prototype.bindsArray=function(){return this.array$Values(1)};Term.Let.prototype.hasBinds=function(){return this.has$Value(1)};Term.Let.prototype.bindsCount=function(){return this.count$Values(1)};Term.Let.prototype.clearBinds=function(){this.clear$Field(1)};Term.Let.prototype.getExpr=function(){return this.get$Value(2)};
Term.Let.prototype.getExprOrDefault=function(){return this.get$ValueOrDefault(2)};Term.Let.prototype.setExpr=function(a){this.set$Value(2,a)};Term.Let.prototype.hasExpr=function(){return this.has$Value(2)};Term.Let.prototype.exprCount=function(){return this.count$Values(2)};Term.Let.prototype.clearExpr=function(){this.clear$Field(2)};Term.Call=function(){goog.proto2.Message.apply(this)};goog.inherits(Term.Call,goog.proto2.Message);Term.Call.prototype.getBuiltin=function(){return this.get$Value(1)};
Term.Call.prototype.getBuiltinOrDefault=function(){return this.get$ValueOrDefault(1)};Term.Call.prototype.setBuiltin=function(a){this.set$Value(1,a)};Term.Call.prototype.hasBuiltin=function(){return this.has$Value(1)};Term.Call.prototype.builtinCount=function(){return this.count$Values(1)};Term.Call.prototype.clearBuiltin=function(){this.clear$Field(1)};Term.Call.prototype.getArgs=function(a){return this.get$Value(2,a)};
Term.Call.prototype.getArgsOrDefault=function(a){return this.get$ValueOrDefault(2,a)};Term.Call.prototype.addArgs=function(a){this.add$Value(2,a)};Term.Call.prototype.argsArray=function(){return this.array$Values(2)};Term.Call.prototype.hasArgs=function(){return this.has$Value(2)};Term.Call.prototype.argsCount=function(){return this.count$Values(2)};Term.Call.prototype.clearArgs=function(){this.clear$Field(2)};Term.If=function(){goog.proto2.Message.apply(this)};goog.inherits(Term.If,goog.proto2.Message);
Term.If.prototype.getTest=function(){return this.get$Value(1)};Term.If.prototype.getTestOrDefault=function(){return this.get$ValueOrDefault(1)};Term.If.prototype.setTest=function(a){this.set$Value(1,a)};Term.If.prototype.hasTest=function(){return this.has$Value(1)};Term.If.prototype.testCount=function(){return this.count$Values(1)};Term.If.prototype.clearTest=function(){this.clear$Field(1)};Term.If.prototype.getTrueBranch=function(){return this.get$Value(2)};
Term.If.prototype.getTrueBranchOrDefault=function(){return this.get$ValueOrDefault(2)};Term.If.prototype.setTrueBranch=function(a){this.set$Value(2,a)};Term.If.prototype.hasTrueBranch=function(){return this.has$Value(2)};Term.If.prototype.trueBranchCount=function(){return this.count$Values(2)};Term.If.prototype.clearTrueBranch=function(){this.clear$Field(2)};Term.If.prototype.getFalseBranch=function(){return this.get$Value(3)};Term.If.prototype.getFalseBranchOrDefault=function(){return this.get$ValueOrDefault(3)};
Term.If.prototype.setFalseBranch=function(a){this.set$Value(3,a)};Term.If.prototype.hasFalseBranch=function(){return this.has$Value(3)};Term.If.prototype.falseBranchCount=function(){return this.count$Values(3)};Term.If.prototype.clearFalseBranch=function(){this.clear$Field(3)};Term.GetByKey=function(){goog.proto2.Message.apply(this)};goog.inherits(Term.GetByKey,goog.proto2.Message);Term.GetByKey.prototype.getTableRef=function(){return this.get$Value(1)};
Term.GetByKey.prototype.getTableRefOrDefault=function(){return this.get$ValueOrDefault(1)};Term.GetByKey.prototype.setTableRef=function(a){this.set$Value(1,a)};Term.GetByKey.prototype.hasTableRef=function(){return this.has$Value(1)};Term.GetByKey.prototype.tableRefCount=function(){return this.count$Values(1)};Term.GetByKey.prototype.clearTableRef=function(){this.clear$Field(1)};Term.GetByKey.prototype.getAttrname=function(){return this.get$Value(2)};Term.GetByKey.prototype.getAttrnameOrDefault=function(){return this.get$ValueOrDefault(2)};
Term.GetByKey.prototype.setAttrname=function(a){this.set$Value(2,a)};Term.GetByKey.prototype.hasAttrname=function(){return this.has$Value(2)};Term.GetByKey.prototype.attrnameCount=function(){return this.count$Values(2)};Term.GetByKey.prototype.clearAttrname=function(){this.clear$Field(2)};Term.GetByKey.prototype.getKey=function(){return this.get$Value(3)};Term.GetByKey.prototype.getKeyOrDefault=function(){return this.get$ValueOrDefault(3)};
Term.GetByKey.prototype.setKey=function(a){this.set$Value(3,a)};Term.GetByKey.prototype.hasKey=function(){return this.has$Value(3)};Term.GetByKey.prototype.keyCount=function(){return this.count$Values(3)};Term.GetByKey.prototype.clearKey=function(){this.clear$Field(3)};Term.Table=function(){goog.proto2.Message.apply(this)};goog.inherits(Term.Table,goog.proto2.Message);Term.Table.prototype.getTableRef=function(){return this.get$Value(1)};Term.Table.prototype.getTableRefOrDefault=function(){return this.get$ValueOrDefault(1)};
Term.Table.prototype.setTableRef=function(a){this.set$Value(1,a)};Term.Table.prototype.hasTableRef=function(){return this.has$Value(1)};Term.Table.prototype.tableRefCount=function(){return this.count$Values(1)};Term.Table.prototype.clearTableRef=function(){this.clear$Field(1)};var Builtin=function(){goog.proto2.Message.apply(this)};goog.inherits(Builtin,goog.proto2.Message);Builtin.prototype.getType=function(){return this.get$Value(1)};Builtin.prototype.getTypeOrDefault=function(){return this.get$ValueOrDefault(1)};
Builtin.prototype.setType=function(a){this.set$Value(1,a)};Builtin.prototype.hasType=function(){return this.has$Value(1)};Builtin.prototype.typeCount=function(){return this.count$Values(1)};Builtin.prototype.clearType=function(){this.clear$Field(1)};Builtin.prototype.getAttr=function(){return this.get$Value(2)};Builtin.prototype.getAttrOrDefault=function(){return this.get$ValueOrDefault(2)};Builtin.prototype.setAttr=function(a){this.set$Value(2,a)};Builtin.prototype.hasAttr=function(){return this.has$Value(2)};
Builtin.prototype.attrCount=function(){return this.count$Values(2)};Builtin.prototype.clearAttr=function(){this.clear$Field(2)};Builtin.prototype.getAttrs=function(a){return this.get$Value(3,a)};Builtin.prototype.getAttrsOrDefault=function(a){return this.get$ValueOrDefault(3,a)};Builtin.prototype.addAttrs=function(a){this.add$Value(3,a)};Builtin.prototype.attrsArray=function(){return this.array$Values(3)};Builtin.prototype.hasAttrs=function(){return this.has$Value(3)};
Builtin.prototype.attrsCount=function(){return this.count$Values(3)};Builtin.prototype.clearAttrs=function(){this.clear$Field(3)};Builtin.prototype.getComparison=function(){return this.get$Value(4)};Builtin.prototype.getComparisonOrDefault=function(){return this.get$ValueOrDefault(4)};Builtin.prototype.setComparison=function(a){this.set$Value(4,a)};Builtin.prototype.hasComparison=function(){return this.has$Value(4)};Builtin.prototype.comparisonCount=function(){return this.count$Values(4)};
Builtin.prototype.clearComparison=function(){this.clear$Field(4)};Builtin.prototype.getFilter=function(){return this.get$Value(5)};Builtin.prototype.getFilterOrDefault=function(){return this.get$ValueOrDefault(5)};Builtin.prototype.setFilter=function(a){this.set$Value(5,a)};Builtin.prototype.hasFilter=function(){return this.has$Value(5)};Builtin.prototype.filterCount=function(){return this.count$Values(5)};Builtin.prototype.clearFilter=function(){this.clear$Field(5)};Builtin.prototype.getMap=function(){return this.get$Value(6)};
Builtin.prototype.getMapOrDefault=function(){return this.get$ValueOrDefault(6)};Builtin.prototype.setMap=function(a){this.set$Value(6,a)};Builtin.prototype.hasMap=function(){return this.has$Value(6)};Builtin.prototype.mapCount=function(){return this.count$Values(6)};Builtin.prototype.clearMap=function(){this.clear$Field(6)};Builtin.prototype.getConcatMap=function(){return this.get$Value(7)};Builtin.prototype.getConcatMapOrDefault=function(){return this.get$ValueOrDefault(7)};
Builtin.prototype.setConcatMap=function(a){this.set$Value(7,a)};Builtin.prototype.hasConcatMap=function(){return this.has$Value(7)};Builtin.prototype.concatMapCount=function(){return this.count$Values(7)};Builtin.prototype.clearConcatMap=function(){this.clear$Field(7)};Builtin.prototype.getOrderBy=function(a){return this.get$Value(8,a)};Builtin.prototype.getOrderByOrDefault=function(a){return this.get$ValueOrDefault(8,a)};Builtin.prototype.addOrderBy=function(a){this.add$Value(8,a)};
Builtin.prototype.orderByArray=function(){return this.array$Values(8)};Builtin.prototype.hasOrderBy=function(){return this.has$Value(8)};Builtin.prototype.orderByCount=function(){return this.count$Values(8)};Builtin.prototype.clearOrderBy=function(){this.clear$Field(8)};Builtin.prototype.getReduce=function(){return this.get$Value(9)};Builtin.prototype.getReduceOrDefault=function(){return this.get$ValueOrDefault(9)};Builtin.prototype.setReduce=function(a){this.set$Value(9,a)};
Builtin.prototype.hasReduce=function(){return this.has$Value(9)};Builtin.prototype.reduceCount=function(){return this.count$Values(9)};Builtin.prototype.clearReduce=function(){this.clear$Field(9)};Builtin.prototype.getGroupedMapReduce=function(){return this.get$Value(10)};Builtin.prototype.getGroupedMapReduceOrDefault=function(){return this.get$ValueOrDefault(10)};Builtin.prototype.setGroupedMapReduce=function(a){this.set$Value(10,a)};Builtin.prototype.hasGroupedMapReduce=function(){return this.has$Value(10)};
Builtin.prototype.groupedMapReduceCount=function(){return this.count$Values(10)};Builtin.prototype.clearGroupedMapReduce=function(){this.clear$Field(10)};Builtin.prototype.getRange=function(){return this.get$Value(11)};Builtin.prototype.getRangeOrDefault=function(){return this.get$ValueOrDefault(11)};Builtin.prototype.setRange=function(a){this.set$Value(11,a)};Builtin.prototype.hasRange=function(){return this.has$Value(11)};Builtin.prototype.rangeCount=function(){return this.count$Values(11)};
Builtin.prototype.clearRange=function(){this.clear$Field(11)};Builtin.BuiltinType={NOT:1,GETATTR:2,IMPLICIT_GETATTR:3,HASATTR:4,IMPLICIT_HASATTR:5,PICKATTRS:6,IMPLICIT_PICKATTRS:7,MAPMERGE:8,ARRAYAPPEND:9,SLICE:11,ADD:14,SUBTRACT:15,MULTIPLY:16,DIVIDE:17,MODULO:18,COMPARE:19,FILTER:20,MAP:21,CONCATMAP:22,ORDERBY:23,DISTINCT:24,LENGTH:26,UNION:27,NTH:28,STREAMTOARRAY:29,ARRAYTOSTREAM:30,REDUCE:31,GROUPEDMAPREDUCE:32,ANY:35,ALL:36,RANGE:37,IMPLICIT_WITHOUT:38,WITHOUT:39};
Builtin.Comparison={EQ:1,NE:2,LT:3,LE:4,GT:5,GE:6};Builtin.Filter=function(){goog.proto2.Message.apply(this)};goog.inherits(Builtin.Filter,goog.proto2.Message);Builtin.Filter.prototype.getPredicate=function(){return this.get$Value(1)};Builtin.Filter.prototype.getPredicateOrDefault=function(){return this.get$ValueOrDefault(1)};Builtin.Filter.prototype.setPredicate=function(a){this.set$Value(1,a)};Builtin.Filter.prototype.hasPredicate=function(){return this.has$Value(1)};
Builtin.Filter.prototype.predicateCount=function(){return this.count$Values(1)};Builtin.Filter.prototype.clearPredicate=function(){this.clear$Field(1)};Builtin.Map=function(){goog.proto2.Message.apply(this)};goog.inherits(Builtin.Map,goog.proto2.Message);Builtin.Map.prototype.getMapping=function(){return this.get$Value(1)};Builtin.Map.prototype.getMappingOrDefault=function(){return this.get$ValueOrDefault(1)};Builtin.Map.prototype.setMapping=function(a){this.set$Value(1,a)};
Builtin.Map.prototype.hasMapping=function(){return this.has$Value(1)};Builtin.Map.prototype.mappingCount=function(){return this.count$Values(1)};Builtin.Map.prototype.clearMapping=function(){this.clear$Field(1)};Builtin.ConcatMap=function(){goog.proto2.Message.apply(this)};goog.inherits(Builtin.ConcatMap,goog.proto2.Message);Builtin.ConcatMap.prototype.getMapping=function(){return this.get$Value(1)};Builtin.ConcatMap.prototype.getMappingOrDefault=function(){return this.get$ValueOrDefault(1)};
Builtin.ConcatMap.prototype.setMapping=function(a){this.set$Value(1,a)};Builtin.ConcatMap.prototype.hasMapping=function(){return this.has$Value(1)};Builtin.ConcatMap.prototype.mappingCount=function(){return this.count$Values(1)};Builtin.ConcatMap.prototype.clearMapping=function(){this.clear$Field(1)};Builtin.OrderBy=function(){goog.proto2.Message.apply(this)};goog.inherits(Builtin.OrderBy,goog.proto2.Message);Builtin.OrderBy.prototype.getAttr=function(){return this.get$Value(1)};
Builtin.OrderBy.prototype.getAttrOrDefault=function(){return this.get$ValueOrDefault(1)};Builtin.OrderBy.prototype.setAttr=function(a){this.set$Value(1,a)};Builtin.OrderBy.prototype.hasAttr=function(){return this.has$Value(1)};Builtin.OrderBy.prototype.attrCount=function(){return this.count$Values(1)};Builtin.OrderBy.prototype.clearAttr=function(){this.clear$Field(1)};Builtin.OrderBy.prototype.getAscending=function(){return this.get$Value(2)};Builtin.OrderBy.prototype.getAscendingOrDefault=function(){return this.get$ValueOrDefault(2)};
Builtin.OrderBy.prototype.setAscending=function(a){this.set$Value(2,a)};Builtin.OrderBy.prototype.hasAscending=function(){return this.has$Value(2)};Builtin.OrderBy.prototype.ascendingCount=function(){return this.count$Values(2)};Builtin.OrderBy.prototype.clearAscending=function(){this.clear$Field(2)};Builtin.GroupedMapReduce=function(){goog.proto2.Message.apply(this)};goog.inherits(Builtin.GroupedMapReduce,goog.proto2.Message);Builtin.GroupedMapReduce.prototype.getGroupMapping=function(){return this.get$Value(1)};
Builtin.GroupedMapReduce.prototype.getGroupMappingOrDefault=function(){return this.get$ValueOrDefault(1)};Builtin.GroupedMapReduce.prototype.setGroupMapping=function(a){this.set$Value(1,a)};Builtin.GroupedMapReduce.prototype.hasGroupMapping=function(){return this.has$Value(1)};Builtin.GroupedMapReduce.prototype.groupMappingCount=function(){return this.count$Values(1)};Builtin.GroupedMapReduce.prototype.clearGroupMapping=function(){this.clear$Field(1)};
Builtin.GroupedMapReduce.prototype.getValueMapping=function(){return this.get$Value(2)};Builtin.GroupedMapReduce.prototype.getValueMappingOrDefault=function(){return this.get$ValueOrDefault(2)};Builtin.GroupedMapReduce.prototype.setValueMapping=function(a){this.set$Value(2,a)};Builtin.GroupedMapReduce.prototype.hasValueMapping=function(){return this.has$Value(2)};Builtin.GroupedMapReduce.prototype.valueMappingCount=function(){return this.count$Values(2)};
Builtin.GroupedMapReduce.prototype.clearValueMapping=function(){this.clear$Field(2)};Builtin.GroupedMapReduce.prototype.getReduction=function(){return this.get$Value(3)};Builtin.GroupedMapReduce.prototype.getReductionOrDefault=function(){return this.get$ValueOrDefault(3)};Builtin.GroupedMapReduce.prototype.setReduction=function(a){this.set$Value(3,a)};Builtin.GroupedMapReduce.prototype.hasReduction=function(){return this.has$Value(3)};Builtin.GroupedMapReduce.prototype.reductionCount=function(){return this.count$Values(3)};
Builtin.GroupedMapReduce.prototype.clearReduction=function(){this.clear$Field(3)};Builtin.Range=function(){goog.proto2.Message.apply(this)};goog.inherits(Builtin.Range,goog.proto2.Message);Builtin.Range.prototype.getAttrname=function(){return this.get$Value(1)};Builtin.Range.prototype.getAttrnameOrDefault=function(){return this.get$ValueOrDefault(1)};Builtin.Range.prototype.setAttrname=function(a){this.set$Value(1,a)};Builtin.Range.prototype.hasAttrname=function(){return this.has$Value(1)};
Builtin.Range.prototype.attrnameCount=function(){return this.count$Values(1)};Builtin.Range.prototype.clearAttrname=function(){this.clear$Field(1)};Builtin.Range.prototype.getLowerbound=function(){return this.get$Value(2)};Builtin.Range.prototype.getLowerboundOrDefault=function(){return this.get$ValueOrDefault(2)};Builtin.Range.prototype.setLowerbound=function(a){this.set$Value(2,a)};Builtin.Range.prototype.hasLowerbound=function(){return this.has$Value(2)};
Builtin.Range.prototype.lowerboundCount=function(){return this.count$Values(2)};Builtin.Range.prototype.clearLowerbound=function(){this.clear$Field(2)};Builtin.Range.prototype.getUpperbound=function(){return this.get$Value(3)};Builtin.Range.prototype.getUpperboundOrDefault=function(){return this.get$ValueOrDefault(3)};Builtin.Range.prototype.setUpperbound=function(a){this.set$Value(3,a)};Builtin.Range.prototype.hasUpperbound=function(){return this.has$Value(3)};
Builtin.Range.prototype.upperboundCount=function(){return this.count$Values(3)};Builtin.Range.prototype.clearUpperbound=function(){this.clear$Field(3)};var Reduction=function(){goog.proto2.Message.apply(this)};goog.inherits(Reduction,goog.proto2.Message);Reduction.prototype.getBase=function(){return this.get$Value(1)};Reduction.prototype.getBaseOrDefault=function(){return this.get$ValueOrDefault(1)};Reduction.prototype.setBase=function(a){this.set$Value(1,a)};Reduction.prototype.hasBase=function(){return this.has$Value(1)};
Reduction.prototype.baseCount=function(){return this.count$Values(1)};Reduction.prototype.clearBase=function(){this.clear$Field(1)};Reduction.prototype.getVar1=function(){return this.get$Value(2)};Reduction.prototype.getVar1OrDefault=function(){return this.get$ValueOrDefault(2)};Reduction.prototype.setVar1=function(a){this.set$Value(2,a)};Reduction.prototype.hasVar1=function(){return this.has$Value(2)};Reduction.prototype.var1Count=function(){return this.count$Values(2)};
Reduction.prototype.clearVar1=function(){this.clear$Field(2)};Reduction.prototype.getVar2=function(){return this.get$Value(3)};Reduction.prototype.getVar2OrDefault=function(){return this.get$ValueOrDefault(3)};Reduction.prototype.setVar2=function(a){this.set$Value(3,a)};Reduction.prototype.hasVar2=function(){return this.has$Value(3)};Reduction.prototype.var2Count=function(){return this.count$Values(3)};Reduction.prototype.clearVar2=function(){this.clear$Field(3)};Reduction.prototype.getBody=function(){return this.get$Value(4)};
Reduction.prototype.getBodyOrDefault=function(){return this.get$ValueOrDefault(4)};Reduction.prototype.setBody=function(a){this.set$Value(4,a)};Reduction.prototype.hasBody=function(){return this.has$Value(4)};Reduction.prototype.bodyCount=function(){return this.count$Values(4)};Reduction.prototype.clearBody=function(){this.clear$Field(4)};var Mapping=function(){goog.proto2.Message.apply(this)};goog.inherits(Mapping,goog.proto2.Message);Mapping.prototype.getArg=function(){return this.get$Value(1)};
Mapping.prototype.getArgOrDefault=function(){return this.get$ValueOrDefault(1)};Mapping.prototype.setArg=function(a){this.set$Value(1,a)};Mapping.prototype.hasArg=function(){return this.has$Value(1)};Mapping.prototype.argCount=function(){return this.count$Values(1)};Mapping.prototype.clearArg=function(){this.clear$Field(1)};Mapping.prototype.getBody=function(){return this.get$Value(2)};Mapping.prototype.getBodyOrDefault=function(){return this.get$ValueOrDefault(2)};
Mapping.prototype.setBody=function(a){this.set$Value(2,a)};Mapping.prototype.hasBody=function(){return this.has$Value(2)};Mapping.prototype.bodyCount=function(){return this.count$Values(2)};Mapping.prototype.clearBody=function(){this.clear$Field(2)};var Predicate=function(){goog.proto2.Message.apply(this)};goog.inherits(Predicate,goog.proto2.Message);Predicate.prototype.getArg=function(){return this.get$Value(1)};Predicate.prototype.getArgOrDefault=function(){return this.get$ValueOrDefault(1)};
Predicate.prototype.setArg=function(a){this.set$Value(1,a)};Predicate.prototype.hasArg=function(){return this.has$Value(1)};Predicate.prototype.argCount=function(){return this.count$Values(1)};Predicate.prototype.clearArg=function(){this.clear$Field(1)};Predicate.prototype.getBody=function(){return this.get$Value(2)};Predicate.prototype.getBodyOrDefault=function(){return this.get$ValueOrDefault(2)};Predicate.prototype.setBody=function(a){this.set$Value(2,a)};Predicate.prototype.hasBody=function(){return this.has$Value(2)};
Predicate.prototype.bodyCount=function(){return this.count$Values(2)};Predicate.prototype.clearBody=function(){this.clear$Field(2)};var ReadQuery=function(){goog.proto2.Message.apply(this)};goog.inherits(ReadQuery,goog.proto2.Message);ReadQuery.prototype.getTerm=function(){return this.get$Value(1)};ReadQuery.prototype.getTermOrDefault=function(){return this.get$ValueOrDefault(1)};ReadQuery.prototype.setTerm=function(a){this.set$Value(1,a)};ReadQuery.prototype.hasTerm=function(){return this.has$Value(1)};
ReadQuery.prototype.termCount=function(){return this.count$Values(1)};ReadQuery.prototype.clearTerm=function(){this.clear$Field(1)};ReadQuery.prototype.getMaxChunkSize=function(){return this.get$Value(2)};ReadQuery.prototype.getMaxChunkSizeOrDefault=function(){return this.get$ValueOrDefault(2)};ReadQuery.prototype.setMaxChunkSize=function(a){this.set$Value(2,a)};ReadQuery.prototype.hasMaxChunkSize=function(){return this.has$Value(2)};ReadQuery.prototype.maxChunkSizeCount=function(){return this.count$Values(2)};
ReadQuery.prototype.clearMaxChunkSize=function(){this.clear$Field(2)};ReadQuery.prototype.getMaxAge=function(){return this.get$Value(3)};ReadQuery.prototype.getMaxAgeOrDefault=function(){return this.get$ValueOrDefault(3)};ReadQuery.prototype.setMaxAge=function(a){this.set$Value(3,a)};ReadQuery.prototype.hasMaxAge=function(){return this.has$Value(3)};ReadQuery.prototype.maxAgeCount=function(){return this.count$Values(3)};ReadQuery.prototype.clearMaxAge=function(){this.clear$Field(3)};
var WriteQuery=function(){goog.proto2.Message.apply(this)};goog.inherits(WriteQuery,goog.proto2.Message);WriteQuery.prototype.getType=function(){return this.get$Value(1)};WriteQuery.prototype.getTypeOrDefault=function(){return this.get$ValueOrDefault(1)};WriteQuery.prototype.setType=function(a){this.set$Value(1,a)};WriteQuery.prototype.hasType=function(){return this.has$Value(1)};WriteQuery.prototype.typeCount=function(){return this.count$Values(1)};WriteQuery.prototype.clearType=function(){this.clear$Field(1)};
WriteQuery.prototype.getAtomic=function(){return this.get$Value(11)};WriteQuery.prototype.getAtomicOrDefault=function(){return this.get$ValueOrDefault(11)};WriteQuery.prototype.setAtomic=function(a){this.set$Value(11,a)};WriteQuery.prototype.hasAtomic=function(){return this.has$Value(11)};WriteQuery.prototype.atomicCount=function(){return this.count$Values(11)};WriteQuery.prototype.clearAtomic=function(){this.clear$Field(11)};WriteQuery.prototype.getUpdate=function(){return this.get$Value(2)};
WriteQuery.prototype.getUpdateOrDefault=function(){return this.get$ValueOrDefault(2)};WriteQuery.prototype.setUpdate=function(a){this.set$Value(2,a)};WriteQuery.prototype.hasUpdate=function(){return this.has$Value(2)};WriteQuery.prototype.updateCount=function(){return this.count$Values(2)};WriteQuery.prototype.clearUpdate=function(){this.clear$Field(2)};WriteQuery.prototype.getDelete=function(){return this.get$Value(3)};WriteQuery.prototype.getDeleteOrDefault=function(){return this.get$ValueOrDefault(3)};
WriteQuery.prototype.setDelete=function(a){this.set$Value(3,a)};WriteQuery.prototype.hasDelete=function(){return this.has$Value(3)};WriteQuery.prototype.deleteCount=function(){return this.count$Values(3)};WriteQuery.prototype.clearDelete=function(){this.clear$Field(3)};WriteQuery.prototype.getMutate=function(){return this.get$Value(4)};WriteQuery.prototype.getMutateOrDefault=function(){return this.get$ValueOrDefault(4)};WriteQuery.prototype.setMutate=function(a){this.set$Value(4,a)};
WriteQuery.prototype.hasMutate=function(){return this.has$Value(4)};WriteQuery.prototype.mutateCount=function(){return this.count$Values(4)};WriteQuery.prototype.clearMutate=function(){this.clear$Field(4)};WriteQuery.prototype.getInsert=function(){return this.get$Value(5)};WriteQuery.prototype.getInsertOrDefault=function(){return this.get$ValueOrDefault(5)};WriteQuery.prototype.setInsert=function(a){this.set$Value(5,a)};WriteQuery.prototype.hasInsert=function(){return this.has$Value(5)};
WriteQuery.prototype.insertCount=function(){return this.count$Values(5)};WriteQuery.prototype.clearInsert=function(){this.clear$Field(5)};WriteQuery.prototype.getForEach=function(){return this.get$Value(7)};WriteQuery.prototype.getForEachOrDefault=function(){return this.get$ValueOrDefault(7)};WriteQuery.prototype.setForEach=function(a){this.set$Value(7,a)};WriteQuery.prototype.hasForEach=function(){return this.has$Value(7)};WriteQuery.prototype.forEachCount=function(){return this.count$Values(7)};
WriteQuery.prototype.clearForEach=function(){this.clear$Field(7)};WriteQuery.prototype.getPointUpdate=function(){return this.get$Value(8)};WriteQuery.prototype.getPointUpdateOrDefault=function(){return this.get$ValueOrDefault(8)};WriteQuery.prototype.setPointUpdate=function(a){this.set$Value(8,a)};WriteQuery.prototype.hasPointUpdate=function(){return this.has$Value(8)};WriteQuery.prototype.pointUpdateCount=function(){return this.count$Values(8)};WriteQuery.prototype.clearPointUpdate=function(){this.clear$Field(8)};
WriteQuery.prototype.getPointDelete=function(){return this.get$Value(9)};WriteQuery.prototype.getPointDeleteOrDefault=function(){return this.get$ValueOrDefault(9)};WriteQuery.prototype.setPointDelete=function(a){this.set$Value(9,a)};WriteQuery.prototype.hasPointDelete=function(){return this.has$Value(9)};WriteQuery.prototype.pointDeleteCount=function(){return this.count$Values(9)};WriteQuery.prototype.clearPointDelete=function(){this.clear$Field(9)};WriteQuery.prototype.getPointMutate=function(){return this.get$Value(10)};
WriteQuery.prototype.getPointMutateOrDefault=function(){return this.get$ValueOrDefault(10)};WriteQuery.prototype.setPointMutate=function(a){this.set$Value(10,a)};WriteQuery.prototype.hasPointMutate=function(){return this.has$Value(10)};WriteQuery.prototype.pointMutateCount=function(){return this.count$Values(10)};WriteQuery.prototype.clearPointMutate=function(){this.clear$Field(10)};WriteQuery.WriteQueryType={UPDATE:1,DELETE:2,MUTATE:3,INSERT:4,FOREACH:6,POINTUPDATE:7,POINTDELETE:8,POINTMUTATE:9};
WriteQuery.Update=function(){goog.proto2.Message.apply(this)};goog.inherits(WriteQuery.Update,goog.proto2.Message);WriteQuery.Update.prototype.getView=function(){return this.get$Value(1)};WriteQuery.Update.prototype.getViewOrDefault=function(){return this.get$ValueOrDefault(1)};WriteQuery.Update.prototype.setView=function(a){this.set$Value(1,a)};WriteQuery.Update.prototype.hasView=function(){return this.has$Value(1)};WriteQuery.Update.prototype.viewCount=function(){return this.count$Values(1)};
WriteQuery.Update.prototype.clearView=function(){this.clear$Field(1)};WriteQuery.Update.prototype.getMapping=function(){return this.get$Value(2)};WriteQuery.Update.prototype.getMappingOrDefault=function(){return this.get$ValueOrDefault(2)};WriteQuery.Update.prototype.setMapping=function(a){this.set$Value(2,a)};WriteQuery.Update.prototype.hasMapping=function(){return this.has$Value(2)};WriteQuery.Update.prototype.mappingCount=function(){return this.count$Values(2)};
WriteQuery.Update.prototype.clearMapping=function(){this.clear$Field(2)};WriteQuery.Delete=function(){goog.proto2.Message.apply(this)};goog.inherits(WriteQuery.Delete,goog.proto2.Message);WriteQuery.Delete.prototype.getView=function(){return this.get$Value(1)};WriteQuery.Delete.prototype.getViewOrDefault=function(){return this.get$ValueOrDefault(1)};WriteQuery.Delete.prototype.setView=function(a){this.set$Value(1,a)};WriteQuery.Delete.prototype.hasView=function(){return this.has$Value(1)};
WriteQuery.Delete.prototype.viewCount=function(){return this.count$Values(1)};WriteQuery.Delete.prototype.clearView=function(){this.clear$Field(1)};WriteQuery.Mutate=function(){goog.proto2.Message.apply(this)};goog.inherits(WriteQuery.Mutate,goog.proto2.Message);WriteQuery.Mutate.prototype.getView=function(){return this.get$Value(1)};WriteQuery.Mutate.prototype.getViewOrDefault=function(){return this.get$ValueOrDefault(1)};WriteQuery.Mutate.prototype.setView=function(a){this.set$Value(1,a)};
WriteQuery.Mutate.prototype.hasView=function(){return this.has$Value(1)};WriteQuery.Mutate.prototype.viewCount=function(){return this.count$Values(1)};WriteQuery.Mutate.prototype.clearView=function(){this.clear$Field(1)};WriteQuery.Mutate.prototype.getMapping=function(){return this.get$Value(2)};WriteQuery.Mutate.prototype.getMappingOrDefault=function(){return this.get$ValueOrDefault(2)};WriteQuery.Mutate.prototype.setMapping=function(a){this.set$Value(2,a)};
WriteQuery.Mutate.prototype.hasMapping=function(){return this.has$Value(2)};WriteQuery.Mutate.prototype.mappingCount=function(){return this.count$Values(2)};WriteQuery.Mutate.prototype.clearMapping=function(){this.clear$Field(2)};WriteQuery.Insert=function(){goog.proto2.Message.apply(this)};goog.inherits(WriteQuery.Insert,goog.proto2.Message);WriteQuery.Insert.prototype.getTableRef=function(){return this.get$Value(1)};WriteQuery.Insert.prototype.getTableRefOrDefault=function(){return this.get$ValueOrDefault(1)};
WriteQuery.Insert.prototype.setTableRef=function(a){this.set$Value(1,a)};WriteQuery.Insert.prototype.hasTableRef=function(){return this.has$Value(1)};WriteQuery.Insert.prototype.tableRefCount=function(){return this.count$Values(1)};WriteQuery.Insert.prototype.clearTableRef=function(){this.clear$Field(1)};WriteQuery.Insert.prototype.getTerms=function(a){return this.get$Value(2,a)};WriteQuery.Insert.prototype.getTermsOrDefault=function(a){return this.get$ValueOrDefault(2,a)};
WriteQuery.Insert.prototype.addTerms=function(a){this.add$Value(2,a)};WriteQuery.Insert.prototype.termsArray=function(){return this.array$Values(2)};WriteQuery.Insert.prototype.hasTerms=function(){return this.has$Value(2)};WriteQuery.Insert.prototype.termsCount=function(){return this.count$Values(2)};WriteQuery.Insert.prototype.clearTerms=function(){this.clear$Field(2)};WriteQuery.Insert.prototype.getOverwrite=function(){return this.get$Value(3)};
WriteQuery.Insert.prototype.getOverwriteOrDefault=function(){return this.get$ValueOrDefault(3)};WriteQuery.Insert.prototype.setOverwrite=function(a){this.set$Value(3,a)};WriteQuery.Insert.prototype.hasOverwrite=function(){return this.has$Value(3)};WriteQuery.Insert.prototype.overwriteCount=function(){return this.count$Values(3)};WriteQuery.Insert.prototype.clearOverwrite=function(){this.clear$Field(3)};WriteQuery.ForEach=function(){goog.proto2.Message.apply(this)};
goog.inherits(WriteQuery.ForEach,goog.proto2.Message);WriteQuery.ForEach.prototype.getStream=function(){return this.get$Value(1)};WriteQuery.ForEach.prototype.getStreamOrDefault=function(){return this.get$ValueOrDefault(1)};WriteQuery.ForEach.prototype.setStream=function(a){this.set$Value(1,a)};WriteQuery.ForEach.prototype.hasStream=function(){return this.has$Value(1)};WriteQuery.ForEach.prototype.streamCount=function(){return this.count$Values(1)};WriteQuery.ForEach.prototype.clearStream=function(){this.clear$Field(1)};
WriteQuery.ForEach.prototype.getVar=function(){return this.get$Value(2)};WriteQuery.ForEach.prototype.getVarOrDefault=function(){return this.get$ValueOrDefault(2)};WriteQuery.ForEach.prototype.setVar=function(a){this.set$Value(2,a)};WriteQuery.ForEach.prototype.hasVar=function(){return this.has$Value(2)};WriteQuery.ForEach.prototype.varCount=function(){return this.count$Values(2)};WriteQuery.ForEach.prototype.clearVar=function(){this.clear$Field(2)};
WriteQuery.ForEach.prototype.getQueries=function(a){return this.get$Value(3,a)};WriteQuery.ForEach.prototype.getQueriesOrDefault=function(a){return this.get$ValueOrDefault(3,a)};WriteQuery.ForEach.prototype.addQueries=function(a){this.add$Value(3,a)};WriteQuery.ForEach.prototype.queriesArray=function(){return this.array$Values(3)};WriteQuery.ForEach.prototype.hasQueries=function(){return this.has$Value(3)};WriteQuery.ForEach.prototype.queriesCount=function(){return this.count$Values(3)};
WriteQuery.ForEach.prototype.clearQueries=function(){this.clear$Field(3)};WriteQuery.PointUpdate=function(){goog.proto2.Message.apply(this)};goog.inherits(WriteQuery.PointUpdate,goog.proto2.Message);WriteQuery.PointUpdate.prototype.getTableRef=function(){return this.get$Value(1)};WriteQuery.PointUpdate.prototype.getTableRefOrDefault=function(){return this.get$ValueOrDefault(1)};WriteQuery.PointUpdate.prototype.setTableRef=function(a){this.set$Value(1,a)};
WriteQuery.PointUpdate.prototype.hasTableRef=function(){return this.has$Value(1)};WriteQuery.PointUpdate.prototype.tableRefCount=function(){return this.count$Values(1)};WriteQuery.PointUpdate.prototype.clearTableRef=function(){this.clear$Field(1)};WriteQuery.PointUpdate.prototype.getAttrname=function(){return this.get$Value(2)};WriteQuery.PointUpdate.prototype.getAttrnameOrDefault=function(){return this.get$ValueOrDefault(2)};
WriteQuery.PointUpdate.prototype.setAttrname=function(a){this.set$Value(2,a)};WriteQuery.PointUpdate.prototype.hasAttrname=function(){return this.has$Value(2)};WriteQuery.PointUpdate.prototype.attrnameCount=function(){return this.count$Values(2)};WriteQuery.PointUpdate.prototype.clearAttrname=function(){this.clear$Field(2)};WriteQuery.PointUpdate.prototype.getKey=function(){return this.get$Value(3)};WriteQuery.PointUpdate.prototype.getKeyOrDefault=function(){return this.get$ValueOrDefault(3)};
WriteQuery.PointUpdate.prototype.setKey=function(a){this.set$Value(3,a)};WriteQuery.PointUpdate.prototype.hasKey=function(){return this.has$Value(3)};WriteQuery.PointUpdate.prototype.keyCount=function(){return this.count$Values(3)};WriteQuery.PointUpdate.prototype.clearKey=function(){this.clear$Field(3)};WriteQuery.PointUpdate.prototype.getMapping=function(){return this.get$Value(4)};WriteQuery.PointUpdate.prototype.getMappingOrDefault=function(){return this.get$ValueOrDefault(4)};
WriteQuery.PointUpdate.prototype.setMapping=function(a){this.set$Value(4,a)};WriteQuery.PointUpdate.prototype.hasMapping=function(){return this.has$Value(4)};WriteQuery.PointUpdate.prototype.mappingCount=function(){return this.count$Values(4)};WriteQuery.PointUpdate.prototype.clearMapping=function(){this.clear$Field(4)};WriteQuery.PointDelete=function(){goog.proto2.Message.apply(this)};goog.inherits(WriteQuery.PointDelete,goog.proto2.Message);WriteQuery.PointDelete.prototype.getTableRef=function(){return this.get$Value(1)};
WriteQuery.PointDelete.prototype.getTableRefOrDefault=function(){return this.get$ValueOrDefault(1)};WriteQuery.PointDelete.prototype.setTableRef=function(a){this.set$Value(1,a)};WriteQuery.PointDelete.prototype.hasTableRef=function(){return this.has$Value(1)};WriteQuery.PointDelete.prototype.tableRefCount=function(){return this.count$Values(1)};WriteQuery.PointDelete.prototype.clearTableRef=function(){this.clear$Field(1)};WriteQuery.PointDelete.prototype.getAttrname=function(){return this.get$Value(2)};
WriteQuery.PointDelete.prototype.getAttrnameOrDefault=function(){return this.get$ValueOrDefault(2)};WriteQuery.PointDelete.prototype.setAttrname=function(a){this.set$Value(2,a)};WriteQuery.PointDelete.prototype.hasAttrname=function(){return this.has$Value(2)};WriteQuery.PointDelete.prototype.attrnameCount=function(){return this.count$Values(2)};WriteQuery.PointDelete.prototype.clearAttrname=function(){this.clear$Field(2)};WriteQuery.PointDelete.prototype.getKey=function(){return this.get$Value(3)};
WriteQuery.PointDelete.prototype.getKeyOrDefault=function(){return this.get$ValueOrDefault(3)};WriteQuery.PointDelete.prototype.setKey=function(a){this.set$Value(3,a)};WriteQuery.PointDelete.prototype.hasKey=function(){return this.has$Value(3)};WriteQuery.PointDelete.prototype.keyCount=function(){return this.count$Values(3)};WriteQuery.PointDelete.prototype.clearKey=function(){this.clear$Field(3)};WriteQuery.PointMutate=function(){goog.proto2.Message.apply(this)};
goog.inherits(WriteQuery.PointMutate,goog.proto2.Message);WriteQuery.PointMutate.prototype.getTableRef=function(){return this.get$Value(1)};WriteQuery.PointMutate.prototype.getTableRefOrDefault=function(){return this.get$ValueOrDefault(1)};WriteQuery.PointMutate.prototype.setTableRef=function(a){this.set$Value(1,a)};WriteQuery.PointMutate.prototype.hasTableRef=function(){return this.has$Value(1)};WriteQuery.PointMutate.prototype.tableRefCount=function(){return this.count$Values(1)};
WriteQuery.PointMutate.prototype.clearTableRef=function(){this.clear$Field(1)};WriteQuery.PointMutate.prototype.getAttrname=function(){return this.get$Value(2)};WriteQuery.PointMutate.prototype.getAttrnameOrDefault=function(){return this.get$ValueOrDefault(2)};WriteQuery.PointMutate.prototype.setAttrname=function(a){this.set$Value(2,a)};WriteQuery.PointMutate.prototype.hasAttrname=function(){return this.has$Value(2)};WriteQuery.PointMutate.prototype.attrnameCount=function(){return this.count$Values(2)};
WriteQuery.PointMutate.prototype.clearAttrname=function(){this.clear$Field(2)};WriteQuery.PointMutate.prototype.getKey=function(){return this.get$Value(3)};WriteQuery.PointMutate.prototype.getKeyOrDefault=function(){return this.get$ValueOrDefault(3)};WriteQuery.PointMutate.prototype.setKey=function(a){this.set$Value(3,a)};WriteQuery.PointMutate.prototype.hasKey=function(){return this.has$Value(3)};WriteQuery.PointMutate.prototype.keyCount=function(){return this.count$Values(3)};
WriteQuery.PointMutate.prototype.clearKey=function(){this.clear$Field(3)};WriteQuery.PointMutate.prototype.getMapping=function(){return this.get$Value(4)};WriteQuery.PointMutate.prototype.getMappingOrDefault=function(){return this.get$ValueOrDefault(4)};WriteQuery.PointMutate.prototype.setMapping=function(a){this.set$Value(4,a)};WriteQuery.PointMutate.prototype.hasMapping=function(){return this.has$Value(4)};WriteQuery.PointMutate.prototype.mappingCount=function(){return this.count$Values(4)};
WriteQuery.PointMutate.prototype.clearMapping=function(){this.clear$Field(4)};var MetaQuery=function(){goog.proto2.Message.apply(this)};goog.inherits(MetaQuery,goog.proto2.Message);MetaQuery.prototype.getType=function(){return this.get$Value(1)};MetaQuery.prototype.getTypeOrDefault=function(){return this.get$ValueOrDefault(1)};MetaQuery.prototype.setType=function(a){this.set$Value(1,a)};MetaQuery.prototype.hasType=function(){return this.has$Value(1)};MetaQuery.prototype.typeCount=function(){return this.count$Values(1)};
MetaQuery.prototype.clearType=function(){this.clear$Field(1)};MetaQuery.prototype.getDbName=function(){return this.get$Value(2)};MetaQuery.prototype.getDbNameOrDefault=function(){return this.get$ValueOrDefault(2)};MetaQuery.prototype.setDbName=function(a){this.set$Value(2,a)};MetaQuery.prototype.hasDbName=function(){return this.has$Value(2)};MetaQuery.prototype.dbNameCount=function(){return this.count$Values(2)};MetaQuery.prototype.clearDbName=function(){this.clear$Field(2)};
MetaQuery.prototype.getCreateTable=function(){return this.get$Value(3)};MetaQuery.prototype.getCreateTableOrDefault=function(){return this.get$ValueOrDefault(3)};MetaQuery.prototype.setCreateTable=function(a){this.set$Value(3,a)};MetaQuery.prototype.hasCreateTable=function(){return this.has$Value(3)};MetaQuery.prototype.createTableCount=function(){return this.count$Values(3)};MetaQuery.prototype.clearCreateTable=function(){this.clear$Field(3)};MetaQuery.prototype.getDropTable=function(){return this.get$Value(4)};
MetaQuery.prototype.getDropTableOrDefault=function(){return this.get$ValueOrDefault(4)};MetaQuery.prototype.setDropTable=function(a){this.set$Value(4,a)};MetaQuery.prototype.hasDropTable=function(){return this.has$Value(4)};MetaQuery.prototype.dropTableCount=function(){return this.count$Values(4)};MetaQuery.prototype.clearDropTable=function(){this.clear$Field(4)};MetaQuery.MetaQueryType={CREATE_DB:1,DROP_DB:2,LIST_DBS:3,CREATE_TABLE:4,DROP_TABLE:5,LIST_TABLES:6};MetaQuery.CreateTable=function(){goog.proto2.Message.apply(this)};
goog.inherits(MetaQuery.CreateTable,goog.proto2.Message);MetaQuery.CreateTable.prototype.getDatacenter=function(){return this.get$Value(1)};MetaQuery.CreateTable.prototype.getDatacenterOrDefault=function(){return this.get$ValueOrDefault(1)};MetaQuery.CreateTable.prototype.setDatacenter=function(a){this.set$Value(1,a)};MetaQuery.CreateTable.prototype.hasDatacenter=function(){return this.has$Value(1)};MetaQuery.CreateTable.prototype.datacenterCount=function(){return this.count$Values(1)};
MetaQuery.CreateTable.prototype.clearDatacenter=function(){this.clear$Field(1)};MetaQuery.CreateTable.prototype.getTableRef=function(){return this.get$Value(3)};MetaQuery.CreateTable.prototype.getTableRefOrDefault=function(){return this.get$ValueOrDefault(3)};MetaQuery.CreateTable.prototype.setTableRef=function(a){this.set$Value(3,a)};MetaQuery.CreateTable.prototype.hasTableRef=function(){return this.has$Value(3)};MetaQuery.CreateTable.prototype.tableRefCount=function(){return this.count$Values(3)};
MetaQuery.CreateTable.prototype.clearTableRef=function(){this.clear$Field(3)};MetaQuery.CreateTable.prototype.getPrimaryKey=function(){return this.get$Value(4)};MetaQuery.CreateTable.prototype.getPrimaryKeyOrDefault=function(){return this.get$ValueOrDefault(4)};MetaQuery.CreateTable.prototype.setPrimaryKey=function(a){this.set$Value(4,a)};MetaQuery.CreateTable.prototype.hasPrimaryKey=function(){return this.has$Value(4)};MetaQuery.CreateTable.prototype.primaryKeyCount=function(){return this.count$Values(4)};
MetaQuery.CreateTable.prototype.clearPrimaryKey=function(){this.clear$Field(4)};MetaQuery.CreateTable.prototype.getCacheSize=function(){return this.get$Value(5)};MetaQuery.CreateTable.prototype.getCacheSizeOrDefault=function(){return this.get$ValueOrDefault(5)};MetaQuery.CreateTable.prototype.setCacheSize=function(a){this.set$Value(5,a)};MetaQuery.CreateTable.prototype.hasCacheSize=function(){return this.has$Value(5)};MetaQuery.CreateTable.prototype.cacheSizeCount=function(){return this.count$Values(5)};
MetaQuery.CreateTable.prototype.clearCacheSize=function(){this.clear$Field(5)};var Query=function(){goog.proto2.Message.apply(this)};goog.inherits(Query,goog.proto2.Message);Query.prototype.getType=function(){return this.get$Value(1)};Query.prototype.getTypeOrDefault=function(){return this.get$ValueOrDefault(1)};Query.prototype.setType=function(a){this.set$Value(1,a)};Query.prototype.hasType=function(){return this.has$Value(1)};Query.prototype.typeCount=function(){return this.count$Values(1)};
Query.prototype.clearType=function(){this.clear$Field(1)};Query.prototype.getToken=function(){return this.get$Value(2)};Query.prototype.getTokenOrDefault=function(){return this.get$ValueOrDefault(2)};Query.prototype.setToken=function(a){this.set$Value(2,a)};Query.prototype.hasToken=function(){return this.has$Value(2)};Query.prototype.tokenCount=function(){return this.count$Values(2)};Query.prototype.clearToken=function(){this.clear$Field(2)};Query.prototype.getReadQuery=function(){return this.get$Value(3)};
Query.prototype.getReadQueryOrDefault=function(){return this.get$ValueOrDefault(3)};Query.prototype.setReadQuery=function(a){this.set$Value(3,a)};Query.prototype.hasReadQuery=function(){return this.has$Value(3)};Query.prototype.readQueryCount=function(){return this.count$Values(3)};Query.prototype.clearReadQuery=function(){this.clear$Field(3)};Query.prototype.getWriteQuery=function(){return this.get$Value(4)};Query.prototype.getWriteQueryOrDefault=function(){return this.get$ValueOrDefault(4)};
Query.prototype.setWriteQuery=function(a){this.set$Value(4,a)};Query.prototype.hasWriteQuery=function(){return this.has$Value(4)};Query.prototype.writeQueryCount=function(){return this.count$Values(4)};Query.prototype.clearWriteQuery=function(){this.clear$Field(4)};Query.prototype.getMetaQuery=function(){return this.get$Value(5)};Query.prototype.getMetaQueryOrDefault=function(){return this.get$ValueOrDefault(5)};Query.prototype.setMetaQuery=function(a){this.set$Value(5,a)};
Query.prototype.hasMetaQuery=function(){return this.has$Value(5)};Query.prototype.metaQueryCount=function(){return this.count$Values(5)};Query.prototype.clearMetaQuery=function(){this.clear$Field(5)};Query.QueryType={READ:1,WRITE:2,CONTINUE:3,STOP:4,META:5};var Response=function(){goog.proto2.Message.apply(this)};goog.inherits(Response,goog.proto2.Message);Response.prototype.getStatusCode=function(){return this.get$Value(1)};Response.prototype.getStatusCodeOrDefault=function(){return this.get$ValueOrDefault(1)};
Response.prototype.setStatusCode=function(a){this.set$Value(1,a)};Response.prototype.hasStatusCode=function(){return this.has$Value(1)};Response.prototype.statusCodeCount=function(){return this.count$Values(1)};Response.prototype.clearStatusCode=function(){this.clear$Field(1)};Response.prototype.getToken=function(){return this.get$Value(2)};Response.prototype.getTokenOrDefault=function(){return this.get$ValueOrDefault(2)};Response.prototype.setToken=function(a){this.set$Value(2,a)};
Response.prototype.hasToken=function(){return this.has$Value(2)};Response.prototype.tokenCount=function(){return this.count$Values(2)};Response.prototype.clearToken=function(){this.clear$Field(2)};Response.prototype.getResponse=function(a){return this.get$Value(3,a)};Response.prototype.getResponseOrDefault=function(a){return this.get$ValueOrDefault(3,a)};Response.prototype.addResponse=function(a){this.add$Value(3,a)};Response.prototype.responseArray=function(){return this.array$Values(3)};
Response.prototype.hasResponse=function(){return this.has$Value(3)};Response.prototype.responseCount=function(){return this.count$Values(3)};Response.prototype.clearResponse=function(){this.clear$Field(3)};Response.prototype.getErrorMessage=function(){return this.get$Value(4)};Response.prototype.getErrorMessageOrDefault=function(){return this.get$ValueOrDefault(4)};Response.prototype.setErrorMessage=function(a){this.set$Value(4,a)};Response.prototype.hasErrorMessage=function(){return this.has$Value(4)};
Response.prototype.errorMessageCount=function(){return this.count$Values(4)};Response.prototype.clearErrorMessage=function(){this.clear$Field(4)};Response.prototype.getBacktrace=function(){return this.get$Value(5)};Response.prototype.getBacktraceOrDefault=function(){return this.get$ValueOrDefault(5)};Response.prototype.setBacktrace=function(a){this.set$Value(5,a)};Response.prototype.hasBacktrace=function(){return this.has$Value(5)};Response.prototype.backtraceCount=function(){return this.count$Values(5)};
Response.prototype.clearBacktrace=function(){this.clear$Field(5)};Response.StatusCode={SUCCESS_EMPTY:0,SUCCESS_JSON:1,SUCCESS_PARTIAL:2,SUCCESS_STREAM:3,BROKEN_CLIENT:101,BAD_QUERY:102,RUNTIME_ERROR:103};Response.Backtrace=function(){goog.proto2.Message.apply(this)};goog.inherits(Response.Backtrace,goog.proto2.Message);Response.Backtrace.prototype.getFrame=function(a){return this.get$Value(1,a)};Response.Backtrace.prototype.getFrameOrDefault=function(a){return this.get$ValueOrDefault(1,a)};
Response.Backtrace.prototype.addFrame=function(a){this.add$Value(1,a)};Response.Backtrace.prototype.frameArray=function(){return this.array$Values(1)};Response.Backtrace.prototype.hasFrame=function(){return this.has$Value(1)};Response.Backtrace.prototype.frameCount=function(){return this.count$Values(1)};Response.Backtrace.prototype.clearFrame=function(){this.clear$Field(1)};
goog.proto2.Message.set$Metadata(TableRef,{"0":{name:"TableRef",fullName:"TableRef"},1:{name:"db_name",fieldType:goog.proto2.Message.FieldType.STRING,type:String},2:{name:"table_name",fieldType:goog.proto2.Message.FieldType.STRING,type:String},3:{name:"use_outdated",fieldType:goog.proto2.Message.FieldType.BOOL,defaultValue:0,type:Boolean}});
goog.proto2.Message.set$Metadata(VarTermTuple,{"0":{name:"VarTermTuple",fullName:"VarTermTuple"},1:{name:"var",fieldType:goog.proto2.Message.FieldType.STRING,type:String},2:{name:"term",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term}});
goog.proto2.Message.set$Metadata(Term,{"0":{name:"Term",fullName:"Term"},1:{name:"type",fieldType:goog.proto2.Message.FieldType.ENUM,defaultValue:Term.TermType.JSON_NULL,type:Term.TermType},2:{name:"var",fieldType:goog.proto2.Message.FieldType.STRING,type:String},3:{name:"let",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term.Let},4:{name:"call",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term.Call},5:{name:"if_",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term.If},6:{name:"error",
fieldType:goog.proto2.Message.FieldType.STRING,type:String},7:{name:"number",fieldType:goog.proto2.Message.FieldType.DOUBLE,type:Number},8:{name:"valuestring",fieldType:goog.proto2.Message.FieldType.STRING,type:String},9:{name:"jsonstring",fieldType:goog.proto2.Message.FieldType.STRING,type:String},10:{name:"valuebool",fieldType:goog.proto2.Message.FieldType.BOOL,type:Boolean},11:{name:"array",repeated:!0,fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term},12:{name:"object",repeated:!0,fieldType:goog.proto2.Message.FieldType.MESSAGE,
type:VarTermTuple},14:{name:"get_by_key",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term.GetByKey},15:{name:"table",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term.Table},16:{name:"javascript",fieldType:goog.proto2.Message.FieldType.STRING,type:String}});
goog.proto2.Message.set$Metadata(Term.Let,{"0":{name:"Let",containingType:Term,fullName:"Term.Let"},1:{name:"binds",repeated:!0,fieldType:goog.proto2.Message.FieldType.MESSAGE,type:VarTermTuple},2:{name:"expr",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term}});
goog.proto2.Message.set$Metadata(Term.Call,{"0":{name:"Call",containingType:Term,fullName:"Term.Call"},1:{name:"builtin",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Builtin},2:{name:"args",repeated:!0,fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term}});
goog.proto2.Message.set$Metadata(Term.If,{"0":{name:"If",containingType:Term,fullName:"Term.If"},1:{name:"test",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term},2:{name:"true_branch",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term},3:{name:"false_branch",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term}});
goog.proto2.Message.set$Metadata(Term.GetByKey,{"0":{name:"GetByKey",containingType:Term,fullName:"Term.GetByKey"},1:{name:"table_ref",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:TableRef},2:{name:"attrname",fieldType:goog.proto2.Message.FieldType.STRING,type:String},3:{name:"key",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term}});
goog.proto2.Message.set$Metadata(Term.Table,{"0":{name:"Table",containingType:Term,fullName:"Term.Table"},1:{name:"table_ref",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:TableRef}});
goog.proto2.Message.set$Metadata(Builtin,{"0":{name:"Builtin",fullName:"Builtin"},1:{name:"type",fieldType:goog.proto2.Message.FieldType.ENUM,defaultValue:Builtin.BuiltinType.NOT,type:Builtin.BuiltinType},2:{name:"attr",fieldType:goog.proto2.Message.FieldType.STRING,type:String},3:{name:"attrs",repeated:!0,fieldType:goog.proto2.Message.FieldType.STRING,type:String},4:{name:"comparison",fieldType:goog.proto2.Message.FieldType.ENUM,defaultValue:Builtin.Comparison.EQ,type:Builtin.Comparison},5:{name:"filter",
fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Builtin.Filter},6:{name:"map",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Builtin.Map},7:{name:"concat_map",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Builtin.ConcatMap},8:{name:"order_by",repeated:!0,fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Builtin.OrderBy},9:{name:"reduce",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Reduction},10:{name:"grouped_map_reduce",fieldType:goog.proto2.Message.FieldType.MESSAGE,
type:Builtin.GroupedMapReduce},11:{name:"range",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Builtin.Range}});goog.proto2.Message.set$Metadata(Builtin.Filter,{"0":{name:"Filter",containingType:Builtin,fullName:"Builtin.Filter"},1:{name:"predicate",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Predicate}});goog.proto2.Message.set$Metadata(Builtin.Map,{"0":{name:"Map",containingType:Builtin,fullName:"Builtin.Map"},1:{name:"mapping",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Mapping}});
goog.proto2.Message.set$Metadata(Builtin.ConcatMap,{"0":{name:"ConcatMap",containingType:Builtin,fullName:"Builtin.ConcatMap"},1:{name:"mapping",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Mapping}});goog.proto2.Message.set$Metadata(Builtin.OrderBy,{"0":{name:"OrderBy",containingType:Builtin,fullName:"Builtin.OrderBy"},1:{name:"attr",fieldType:goog.proto2.Message.FieldType.STRING,type:String},2:{name:"ascending",fieldType:goog.proto2.Message.FieldType.BOOL,defaultValue:1,type:Boolean}});
goog.proto2.Message.set$Metadata(Builtin.GroupedMapReduce,{"0":{name:"GroupedMapReduce",containingType:Builtin,fullName:"Builtin.GroupedMapReduce"},1:{name:"group_mapping",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Mapping},2:{name:"value_mapping",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Mapping},3:{name:"reduction",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Reduction}});
goog.proto2.Message.set$Metadata(Builtin.Range,{"0":{name:"Range",containingType:Builtin,fullName:"Builtin.Range"},1:{name:"attrname",fieldType:goog.proto2.Message.FieldType.STRING,type:String},2:{name:"lowerbound",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term},3:{name:"upperbound",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term}});
goog.proto2.Message.set$Metadata(Reduction,{"0":{name:"Reduction",fullName:"Reduction"},1:{name:"base",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term},2:{name:"var1",fieldType:goog.proto2.Message.FieldType.STRING,type:String},3:{name:"var2",fieldType:goog.proto2.Message.FieldType.STRING,type:String},4:{name:"body",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term}});
goog.proto2.Message.set$Metadata(Mapping,{"0":{name:"Mapping",fullName:"Mapping"},1:{name:"arg",fieldType:goog.proto2.Message.FieldType.STRING,type:String},2:{name:"body",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term}});goog.proto2.Message.set$Metadata(Predicate,{"0":{name:"Predicate",fullName:"Predicate"},1:{name:"arg",fieldType:goog.proto2.Message.FieldType.STRING,type:String},2:{name:"body",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term}});
goog.proto2.Message.set$Metadata(ReadQuery,{"0":{name:"ReadQuery",fullName:"ReadQuery"},1:{name:"term",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term},2:{name:"max_chunk_size",fieldType:goog.proto2.Message.FieldType.INT64,type:String},3:{name:"max_age",fieldType:goog.proto2.Message.FieldType.INT64,type:String}});
goog.proto2.Message.set$Metadata(WriteQuery,{"0":{name:"WriteQuery",fullName:"WriteQuery"},1:{name:"type",fieldType:goog.proto2.Message.FieldType.ENUM,defaultValue:WriteQuery.WriteQueryType.UPDATE,type:WriteQuery.WriteQueryType},11:{name:"atomic",fieldType:goog.proto2.Message.FieldType.BOOL,defaultValue:1,type:Boolean},2:{name:"update",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:WriteQuery.Update},3:{name:"delete",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:WriteQuery.Delete},4:{name:"mutate",
fieldType:goog.proto2.Message.FieldType.MESSAGE,type:WriteQuery.Mutate},5:{name:"insert",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:WriteQuery.Insert},7:{name:"for_each",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:WriteQuery.ForEach},8:{name:"point_update",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:WriteQuery.PointUpdate},9:{name:"point_delete",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:WriteQuery.PointDelete},10:{name:"point_mutate",fieldType:goog.proto2.Message.FieldType.MESSAGE,
type:WriteQuery.PointMutate}});goog.proto2.Message.set$Metadata(WriteQuery.Update,{"0":{name:"Update",containingType:WriteQuery,fullName:"WriteQuery.Update"},1:{name:"view",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term},2:{name:"mapping",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Mapping}});
goog.proto2.Message.set$Metadata(WriteQuery.Delete,{"0":{name:"Delete",containingType:WriteQuery,fullName:"WriteQuery.Delete"},1:{name:"view",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term}});goog.proto2.Message.set$Metadata(WriteQuery.Mutate,{"0":{name:"Mutate",containingType:WriteQuery,fullName:"WriteQuery.Mutate"},1:{name:"view",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term},2:{name:"mapping",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Mapping}});
goog.proto2.Message.set$Metadata(WriteQuery.Insert,{"0":{name:"Insert",containingType:WriteQuery,fullName:"WriteQuery.Insert"},1:{name:"table_ref",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:TableRef},2:{name:"terms",repeated:!0,fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term},3:{name:"overwrite",fieldType:goog.proto2.Message.FieldType.BOOL,defaultValue:0,type:Boolean}});
goog.proto2.Message.set$Metadata(WriteQuery.ForEach,{"0":{name:"ForEach",containingType:WriteQuery,fullName:"WriteQuery.ForEach"},1:{name:"stream",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term},2:{name:"var",fieldType:goog.proto2.Message.FieldType.STRING,type:String},3:{name:"queries",repeated:!0,fieldType:goog.proto2.Message.FieldType.MESSAGE,type:WriteQuery}});
goog.proto2.Message.set$Metadata(WriteQuery.PointUpdate,{"0":{name:"PointUpdate",containingType:WriteQuery,fullName:"WriteQuery.PointUpdate"},1:{name:"table_ref",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:TableRef},2:{name:"attrname",fieldType:goog.proto2.Message.FieldType.STRING,type:String},3:{name:"key",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term},4:{name:"mapping",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Mapping}});
goog.proto2.Message.set$Metadata(WriteQuery.PointDelete,{"0":{name:"PointDelete",containingType:WriteQuery,fullName:"WriteQuery.PointDelete"},1:{name:"table_ref",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:TableRef},2:{name:"attrname",fieldType:goog.proto2.Message.FieldType.STRING,type:String},3:{name:"key",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term}});
goog.proto2.Message.set$Metadata(WriteQuery.PointMutate,{"0":{name:"PointMutate",containingType:WriteQuery,fullName:"WriteQuery.PointMutate"},1:{name:"table_ref",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:TableRef},2:{name:"attrname",fieldType:goog.proto2.Message.FieldType.STRING,type:String},3:{name:"key",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Term},4:{name:"mapping",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:Mapping}});
goog.proto2.Message.set$Metadata(MetaQuery,{"0":{name:"MetaQuery",fullName:"MetaQuery"},1:{name:"type",fieldType:goog.proto2.Message.FieldType.ENUM,defaultValue:MetaQuery.MetaQueryType.CREATE_DB,type:MetaQuery.MetaQueryType},2:{name:"db_name",fieldType:goog.proto2.Message.FieldType.STRING,type:String},3:{name:"create_table",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:MetaQuery.CreateTable},4:{name:"drop_table",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:TableRef}});
goog.proto2.Message.set$Metadata(MetaQuery.CreateTable,{"0":{name:"CreateTable",containingType:MetaQuery,fullName:"MetaQuery.CreateTable"},1:{name:"datacenter",fieldType:goog.proto2.Message.FieldType.STRING,type:String},3:{name:"table_ref",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:TableRef},4:{name:"primary_key",fieldType:goog.proto2.Message.FieldType.STRING,defaultValue:"id",type:String},5:{name:"cache_size",fieldType:goog.proto2.Message.FieldType.INT64,defaultValue:"1073741824",type:String}});
goog.proto2.Message.set$Metadata(Query,{"0":{name:"Query",fullName:"Query"},1:{name:"type",fieldType:goog.proto2.Message.FieldType.ENUM,defaultValue:Query.QueryType.READ,type:Query.QueryType},2:{name:"token",fieldType:goog.proto2.Message.FieldType.INT64,type:String},3:{name:"read_query",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:ReadQuery},4:{name:"write_query",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:WriteQuery},5:{name:"meta_query",fieldType:goog.proto2.Message.FieldType.MESSAGE,
type:MetaQuery}});
goog.proto2.Message.set$Metadata(Response,{"0":{name:"Response",fullName:"Response"},1:{name:"status_code",fieldType:goog.proto2.Message.FieldType.ENUM,defaultValue:Response.StatusCode.SUCCESS_EMPTY,type:Response.StatusCode},2:{name:"token",fieldType:goog.proto2.Message.FieldType.INT64,type:String},3:{name:"response",repeated:!0,fieldType:goog.proto2.Message.FieldType.STRING,type:String},4:{name:"error_message",fieldType:goog.proto2.Message.FieldType.STRING,type:String},5:{name:"backtrace",fieldType:goog.proto2.Message.FieldType.MESSAGE,
type:Response.Backtrace}});goog.proto2.Message.set$Metadata(Response.Backtrace,{"0":{name:"Backtrace",containingType:Response,fullName:"Response.Backtrace"},1:{name:"frame",repeated:!0,fieldType:goog.proto2.Message.FieldType.STRING,type:String}});rethinkdb.Expression=function(){};goog.inherits(rethinkdb.Expression,rethinkdb.ReadQuery);rethinkdb.ErrorExpression=function(a){this.msg_=a||""};goog.inherits(rethinkdb.ErrorExpression,rethinkdb.Expression);rethinkdb.ErrorExpression.prototype.compile=function(){var a=new Term;a.setType(Term.TermType.ERROR);a.setError(this.msg_);return a};rethinkdb.ErrorExpression.prototype.formatQuery=function(a){return a?"^^^^^^^^^":"r.error()"};rethinkdb.error=function(){return new rethinkdb.ErrorExpression};
goog.exportSymbol("rethinkdb.error",rethinkdb.error);rethinkdb.JSONExpression=function(a){this.value_=a};goog.inherits(rethinkdb.JSONExpression,rethinkdb.Expression);rethinkdb.JSONExpression.prototype.compile=function(){var a=new Term;a.setType(Term.TermType.JSON);a.setJsonstring(JSON.stringify(this.value_));return a};rethinkdb.NumberExpression=function(a){this.value_="undefined"===typeof a?null:a};goog.inherits(rethinkdb.NumberExpression,rethinkdb.Expression);
rethinkdb.NumberExpression.prototype.compile=function(){var a=new Term;null===this.value_?a.setType(Term.TermType.JSON_NULL):(a.setType(Term.TermType.NUMBER),a.setNumber(this.value_));return a};rethinkdb.NumberExpression.prototype.formatQuery=function(a){var b="r.expr("+this.value_+")";return a?rethinkdb.util.carrotify_(b):b};rethinkdb.BooleanExpression=function(a){this.value_=a};goog.inherits(rethinkdb.BooleanExpression,rethinkdb.Expression);
rethinkdb.BooleanExpression.prototype.compile=function(){var a=new Term;a.setType(Term.TermType.BOOL);a.setValuebool(this.value_);return a};rethinkdb.BooleanExpression.prototype.formatQuery=function(a){var b="r.expr("+this.value_+")";return a?rethinkdb.util.carrotify_(b):b};rethinkdb.StringExpression=function(a){this.value_=a};goog.inherits(rethinkdb.StringExpression,rethinkdb.Expression);
rethinkdb.StringExpression.prototype.compile=function(){var a=new Term;a.setType(Term.TermType.STRING);a.setValuestring(this.value_);return a};rethinkdb.StringExpression.prototype.formatQuery=function(a){var b="r.expr('"+this.value_+"')";return a?rethinkdb.util.carrotify_(b):b};rethinkdb.ArrayExpression=function(a){this.value_=[];for(var b=0;b<a.length;b++){var c=rethinkdb.util.wrapIf_(a[b]);this.value_.push(c)}};goog.inherits(rethinkdb.ArrayExpression,rethinkdb.Expression);
rethinkdb.ArrayExpression.prototype.compile=function(a){var b=new Term;b.setType(Term.TermType.ARRAY);for(var c=0;c<this.value_.length;c++)b.addArray(this.value_[c].compile(a));return b};
rethinkdb.ArrayExpression.prototype.formatQuery=function(a){var b=this.value_.map(function(a){return a.formatQuery()});if(a){if(0===a.length)return rethinkdb.util.carrotify_("r.expr(["+b.join(", ")+"])");var c=a[0].split(":");goog.asserts.assert("elem"===c[0]);a.shift();c=parseInt(c[1],10);b=b.map(rethinkdb.util.spaceify_);b[c]=this.value_[c].formatQuery(a);return"        "+b.join("  ")+"  "}return"r.expr(["+b.join(", ")+"])"};
rethinkdb.ObjectExpression=function(a){this.value_={};for(var b in a)if(a.hasOwnProperty(b)){var c=rethinkdb.util.wrapIf_(a[b]);this.value_[b]=c}};goog.inherits(rethinkdb.ObjectExpression,rethinkdb.Expression);rethinkdb.ObjectExpression.prototype.compile=function(a){var b=new Term;b.setType(Term.TermType.OBJECT);for(var c in this.value_)if(this.value_.hasOwnProperty(c)){var d=new VarTermTuple;d.setVar(c);d.setTerm(this.value_[c].compile(a));b.addObject(d)}return b};
rethinkdb.ObjectExpression.prototype.formatQuery=function(a){var b=[],c;for(c in this.value_)this.value_.hasOwnProperty(c)&&b.push("'"+c+"':"+this.value_[c].formatQuery());b="r.expr({"+b.join(", ")+"})";if(a){if(0===a.length)return rethinkdb.util.carrotify_(b);b=a[0].split(":");a.shift();goog.asserts.assert("key"===b[0]);var d=b[1],b=[];for(c in this.value_)this.value_.hasOwnProperty(c)&&(c===d?b.push(rethinkdb.util.spaceify_("'"+c+"':")+this.value_[c].formatQuery(a)):b.push(rethinkdb.util.spaceify_("'"+
c+"':"+this.value_[c].formatQuery())));return"        "+b.join("  ")+"  "}return b};rethinkdb.JSExpression=function(a){this.src_=a};goog.inherits(rethinkdb.JSExpression,rethinkdb.Expression);rethinkdb.JSExpression.prototype.compile=function(){var a=new Term;a.setType(Term.TermType.JAVASCRIPT);a.setJavascript(this.src_);return a};rethinkdb.JSExpression.prototype.formatQuery=function(a){var b="r.js('"+this.src_+"')";return a?rethinkdb.util.carrotify_(b):b};
rethinkdb.FunctionExpression=function(a,b){1>a.length&&a.push("");this.args=a;this.body=b};rethinkdb.FunctionExpression.prototype.formatQuery=function(a){return a?rethinkdb.util.spaceify_("function("+this.args.join(", ")+") {return ")+this.body.formatQuery(a)+" ":"function("+this.args.join(", ")+") {return "+this.body.formatQuery()+"}"};
rethinkdb.JSFunctionExpression=function(a){var b=rethinkdb.JSFunctionExpression.parseRegexp_.exec(a.toString());if(!b)throw TypeError("Expected a function");a=b[1].split(",").map(function(a){return a.trim()});b=rethinkdb.util.newExpr_(rethinkdb.JSExpression,b[2]);rethinkdb.FunctionExpression.call(this,a,b)};goog.inherits(rethinkdb.JSFunctionExpression,rethinkdb.FunctionExpression);rethinkdb.JSFunctionExpression.parseRegexp_=/function [^(]*\(([^)]*)\) *{([^]*)}/m;var _unique_counter=0;
rethinkdb.fn=function(a){var b,c;if("function"===typeof a&&!(a instanceof rethinkdb.Query)){b=[];for(c=0;c<a.length;c++)b.push("arg"+b.length+"_"+_unique_counter++);c=a.apply(null,b.map(function(a){return rethinkdb.letVar(a)}));if(!(c instanceof rethinkdb.Query))throw new rethinkdb.errors.ClientError("ReQL function must return ReQL expression");}else c=arguments[arguments.length-1],b=Array.prototype.slice.call(arguments,0,arguments.length-1);c=rethinkdb.util.wrapIf_(c);b.forEach(function(a){return rethinkdb.util.typeCheck_(a,
"string")});return rethinkdb.util.newExpr_(rethinkdb.FunctionExpression,b,c)};goog.exportSymbol("rethinkdb.fn",rethinkdb.fn);rethinkdb.BuiltinExpression=function(a,b,c,d){this.builtinType_=a;this.args_=b;this.additional_=d||null;this.formatQuery=c};goog.inherits(rethinkdb.BuiltinExpression,rethinkdb.Expression);
rethinkdb.BuiltinExpression.prototype.compile=function(a){var b=new Builtin;b.setType(this.builtinType_);this.additional_&&this.additional_(b);var c=new Term.Call;c.setBuiltin(b);for(var d in this.args_)c.addArgs(this.args_[d].compile(a));a=new Term;a.setType(Term.TermType.CALL);a.setCall(c);return a};
function makeBinary(a,b){rethinkdb.Expression.prototype[b]=function(c){rethinkdb.util.argCheck_(arguments,1);c=rethinkdb.util.wrapIf_(c);return rethinkdb.util.newExpr_(rethinkdb.BuiltinExpression,a,[this,c],rethinkdb.util.makeFormat_(b,this,c))}}
function makeComparison(a,b){rethinkdb.Expression.prototype[b]=function(c){rethinkdb.util.argCheck_(arguments,1);c=rethinkdb.util.wrapIf_(c);return rethinkdb.util.newExpr_(rethinkdb.BuiltinExpression,Builtin.BuiltinType.COMPARE,[this,c],rethinkdb.util.makeFormat_(b,this,c),function(b){b.setComparison(a)})}}makeBinary(Builtin.BuiltinType.ADD,"add");makeBinary(Builtin.BuiltinType.SUBTRACT,"sub");makeBinary(Builtin.BuiltinType.MULTIPLY,"mul");makeBinary(Builtin.BuiltinType.DIVIDE,"div");
makeBinary(Builtin.BuiltinType.MODULO,"mod");makeComparison(Builtin.Comparison.EQ,"eq");makeComparison(Builtin.Comparison.NE,"ne");makeComparison(Builtin.Comparison.LT,"lt");makeComparison(Builtin.Comparison.LE,"le");makeComparison(Builtin.Comparison.GT,"gt");makeComparison(Builtin.Comparison.GE,"ge");rethinkdb.Expression.prototype.not=function(){return rethinkdb.util.newExpr_(rethinkdb.BuiltinExpression,Builtin.BuiltinType.NOT,[this],rethinkdb.util.makeFormat_("not",this))};
goog.exportProperty(rethinkdb.Expression.prototype,"not",rethinkdb.Expression.prototype.not);rethinkdb.Expression.prototype.count=function(){return rethinkdb.util.newExpr_(rethinkdb.BuiltinExpression,Builtin.BuiltinType.LENGTH,[this],rethinkdb.util.makeFormat_("count",this))};goog.exportProperty(rethinkdb.Expression.prototype,"count",rethinkdb.Expression.prototype.count);
rethinkdb.Expression.prototype.and=function(a){rethinkdb.util.argCheck_(arguments,1);a=rethinkdb.util.wrapIf_(a);return rethinkdb.util.newExpr_(rethinkdb.BuiltinExpression,Builtin.BuiltinType.ALL,[this,a],rethinkdb.util.makeFormat_("and",this,a))};goog.exportProperty(rethinkdb.Expression.prototype,"and",rethinkdb.Expression.prototype.and);
rethinkdb.Expression.prototype.or=function(a){rethinkdb.util.argCheck_(arguments,1);a=rethinkdb.util.wrapIf_(a);return rethinkdb.util.newExpr_(rethinkdb.BuiltinExpression,Builtin.BuiltinType.ANY,[this,a],rethinkdb.util.makeFormat_("or",this,a))};goog.exportProperty(rethinkdb.Expression.prototype,"or",rethinkdb.Expression.prototype.or);
rethinkdb.Expression.prototype.between=function(a,b,c){rethinkdb.util.argCheck_(arguments,2);a=rethinkdb.util.wrapIf_(a);b=rethinkdb.util.wrapIf_(b);rethinkdb.util.typeCheck_(c,"string");var d=c?c:"id";return rethinkdb.util.newExpr_(rethinkdb.BuiltinExpression,Builtin.BuiltinType.RANGE,[this],rethinkdb.util.makeFormat_("between",this,a,b,"'"+d+"'"),function(c,f){var g=new Builtin.Range;g.setAttrname(d);g.setLowerbound(a.compile(f));g.setUpperbound(b.compile(f));c.setRange(g)})};
goog.exportProperty(rethinkdb.Expression.prototype,"between",rethinkdb.Expression.prototype.between);rethinkdb.Expression.prototype.append=function(a){rethinkdb.util.argCheck_(arguments,1);a=rethinkdb.util.wrapIf_(a);return rethinkdb.util.newExpr_(rethinkdb.BuiltinExpression,Builtin.BuiltinType.ARRAYAPPEND,[this,a],rethinkdb.util.makeFormat_("append",this,a))};goog.exportProperty(rethinkdb.Expression.prototype,"append",rethinkdb.Expression.prototype.append);
rethinkdb.SliceExpression=function(a,b,c){b=rethinkdb.util.wrapIf_(b);c=c?rethinkdb.util.wrapIf_(c):new rethinkdb.JSONExpression(null);rethinkdb.BuiltinExpression.call(this,Builtin.BuiltinType.SLICE,[a,b,c],function(d){if(d){var e=d[0].split(":");goog.asserts.assert("arg"===e[0]);e[1]=parseInt(e[1],10);d.shift();if(0===e[1])return a.formatQuery(d)+rethinkdb.util.spaceify_(".slice("+b.formatQuery()+(c?", "+c.formatQuery():"")+")");if(1===e[1])return rethinkdb.util.spaceify_(a.formatQuery()+".slice(")+
b.formatQuery(d)+rethinkdb.util.spaceify_((c?", "+c.formatQuery():"")+")");goog.asserts.assert(e[1]===[2]);return rethinkdb.util.spaceify_(a.formatQuery()+".slice("+b.formatQuery(d)+", ")+c.formatQuery(d)+" "}return a.formatQuery()+".slice("+b.formatQuery()+(c?", "+c.formatQuery():"")+")"})};goog.inherits(rethinkdb.SliceExpression,rethinkdb.BuiltinExpression);
rethinkdb.Expression.prototype.slice=function(a,b){rethinkdb.util.argCheck_(arguments,1);return rethinkdb.util.newExpr_(rethinkdb.SliceExpression,this,a,b)};goog.exportProperty(rethinkdb.Expression.prototype,"slice",rethinkdb.Expression.prototype.slice);rethinkdb.Expression.prototype.limit=function(a){rethinkdb.util.argCheck_(arguments,1);return rethinkdb.util.newExpr_(rethinkdb.SliceExpression,this,0,a)};goog.exportProperty(rethinkdb.Expression.prototype,"limit",rethinkdb.Expression.prototype.limit);
rethinkdb.Expression.prototype.skip=function(a){rethinkdb.util.argCheck_(arguments,1);return rethinkdb.util.newExpr_(rethinkdb.SliceExpression,this,a)};goog.exportProperty(rethinkdb.Expression.prototype,"skip",rethinkdb.Expression.prototype.skip);rethinkdb.Expression.prototype.nth=function(a){rethinkdb.util.argCheck_(arguments,1);a=rethinkdb.util.wrapIf_(a);return rethinkdb.util.newExpr_(rethinkdb.BuiltinExpression,Builtin.BuiltinType.NTH,[this,a],rethinkdb.util.makeFormat_("nth",this,a))};
goog.exportProperty(rethinkdb.Expression.prototype,"nth",rethinkdb.Expression.prototype.nth);
rethinkdb.Expression.prototype.filter=function(a){var b;if("object"===typeof a&&!(a instanceof rethinkdb.Query)){var c=[],d;for(d in a)a.hasOwnProperty(d)&&c.push(rethinkdb.R(d).eq(rethinkdb.expr(a[d])));b=rethinkdb.util.newExpr_(rethinkdb.FunctionExpression,[""],rethinkdb.util.newExpr_(rethinkdb.BuiltinExpression,Builtin.BuiltinType.ALL,c,function(a){var b=c.map(function(a){return a.formatQuery()});if(a){var d=a[0].split(":");goog.asserts.assert("arg"===d[0]);a.shift();b=b.map(rethinkdb.util.spaceify_);
b[d[1]]=c[d[1]].formatQuery(a);return b.join("      ")}return b.join(").and(")}))}else b=rethinkdb.util.functionWrap_(a);var e=this;return rethinkdb.util.newExpr_(rethinkdb.BuiltinExpression,Builtin.BuiltinType.FILTER,[this],function(a){if(a){if("predicate"===a[0])return a.shift(),rethinkdb.util.spaceify_(e.formatQuery()+".filter(")+b.formatQuery(a)+" ";goog.asserts.assert("arg:0"===a[0]);a.shift();return e.formatQuery(a)+rethinkdb.util.spaceify_(".filter("+b.formatQuery(a)+")")}return e.formatQuery()+
".filter("+b.formatQuery()+")"},function(a,c){var d=new Predicate;d.setArg(b.args[0]);d.setBody(b.body.compile(c));var e=new Builtin.Filter;e.setPredicate(d);a.setFilter(e)})};goog.exportProperty(rethinkdb.Expression.prototype,"filter",rethinkdb.Expression.prototype.filter);
rethinkdb.Expression.prototype.map=function(a){var a=rethinkdb.util.functionWrap_(a),b=this;return rethinkdb.util.newExpr_(rethinkdb.BuiltinExpression,Builtin.BuiltinType.MAP,[this],function(c){if(c){if("arg:0"===c[0])return c.shift(),b.formatQuery(c)+rethinkdb.util.spaceify_(".map("+a.formatQuery(c)+")");goog.asserts.assert("mapping"===c[0]);c.shift();return rethinkdb.util.spaceify_(b.formatQuery()+".map(")+a.formatQuery(c)+" "}return b.formatQuery()+".map("+a.formatQuery()+")"},function(b,d){var e=
new Mapping;e.setArg(a.args[0]);e.setBody(a.body.compile(d));var f=new Builtin.Map;f.setMapping(e);b.setMap(f)})};goog.exportProperty(rethinkdb.Expression.prototype,"map",rethinkdb.Expression.prototype.map);
rethinkdb.Expression.prototype.orderBy=function(a){rethinkdb.util.argCheck_(arguments,1);var b=Array.prototype.slice.call(arguments,0);b.forEach(function(a){rethinkdb.util.typeCheck_(a,"string")});var c=this;return rethinkdb.util.newExpr_(rethinkdb.BuiltinExpression,Builtin.BuiltinType.ORDERBY,[this],function(a){var e=b.map(function(a){return"'"+a+"'"});if(a){if("order_by"===a.shift())return rethinkdb.util.spaceify_(c.formatQuery()+".orderBy(")+rethinkdb.util.carrotify_(e.join(", "))+" ";goog.asserts.assert("arg:0"===
a[0]);return c.formatQuery(a)+rethinkdb.util.spaceify_(".orderBy("+e.join(", ")+")")}return c.formatQuery()+".orderBy("+e.join(", ")+")"},function(a){for(var c=0;c<b.length;c++){var f=!0,g=b[c];"-"===g[0]&&(f=!1,g=g.slice(1));var h=new Builtin.OrderBy;h.setAttr(g);h.setAscending(f);a.addOrderBy(h)}})};goog.exportProperty(rethinkdb.Expression.prototype,"orderBy",rethinkdb.Expression.prototype.orderBy);
rethinkdb.Expression.prototype.distinct=function(a){rethinkdb.util.typeCheck_(a,"string");var b=a?this.map(rethinkdb.R(a)):this;return rethinkdb.util.newExpr_(rethinkdb.BuiltinExpression,Builtin.BuiltinType.DISTINCT,[b],function(a){return a?(goog.asserts.assert("arg:0"===a[0]),a.shift(),b.formatQuery(a)+"           "):b.formatQuery()+".distinct()"})};goog.exportProperty(rethinkdb.Expression.prototype,"distinct",rethinkdb.Expression.prototype.distinct);
rethinkdb.Expression.prototype.reduce=function(a,b){rethinkdb.util.argCheck_(arguments,2);var a=rethinkdb.util.wrapIf_(a),b=rethinkdb.util.functionWrap_(b),c=this;return rethinkdb.util.newExpr_(rethinkdb.BuiltinExpression,Builtin.BuiltinType.REDUCE,[this],function(d){if(d)if("reduce"===d[0]){d.shift();if("body"===d[0])return d.shift(),rethinkdb.util.spaceify_(c.formatQuery()+".reduce("+a.formatQuery()+", ")+b.formatQuery(d)+" ";if("base"===d[0])return d.shift(),rethinkdb.util.spaceify_(c.formatQuery()+
".reduce(")+a.formatQuery(d)+rethinkdb.util.spaceify_(", "+b.formatQuery()+")")}else return goog.asserts.assert("arg:0"===d[0]),d.shift(),c.formatQuery(d)+rethinkdb.util.spaceify_(".reduce("+a.formatQuery()+", "+b.formatQuery()+")");else return c.formatQuery()+".reduce("+a.formatQuery()+", "+b.formatQuery()+")"},function(c,e){var f=new Reduction;f.setBase(a.compile(e));f.setVar1(b.args[0]);f.setVar2(b.args[1]);f.setBody(b.body.compile(e));c.setReduce(f)})};
goog.exportProperty(rethinkdb.Expression.prototype,"reduce",rethinkdb.Expression.prototype.reduce);
rethinkdb.Expression.prototype.groupedMapReduce=function(a,b,c,d){rethinkdb.util.argCheck_(arguments,4);var a=rethinkdb.util.functionWrap_(a),b=rethinkdb.util.functionWrap_(b),c=rethinkdb.util.wrapIf_(c),d=rethinkdb.util.functionWrap_(d),e=this;return rethinkdb.util.newExpr_(rethinkdb.BuiltinExpression,Builtin.BuiltinType.GROUPEDMAPREDUCE,[this],function(f){var g=e.formatQuery(),h=a.formatQuery(),j=b.formatQuery(),i=c.formatQuery(),k=d.formatQuery();if(f){var l=f.shift();if("arg:0"===l)return e.formatQuery(f)+
rethinkdb.util.spaceify_(".groupedMapReduce("+h+", "+j+", "+i+", "+k+")");if("group_mapping"===l)return rethinkdb.util.spaceify_(g+".groupedMapReduce(")+a.formatQuery(f)+rethinkdb.util.spaceify_(", "+j+", "+i+", "+k+")");if("value_mapping"===l)return rethinkdb.util.spaceify_(g+".groupedMapReduce("+h+", ")+b.formatQuery(f)+rethinkdb.util.spaceify_(", "+i+", "+k+")");goog.asserts.assert("reduction"===l);l=f.shift();if("base"===l)return rethinkdb.util.spaceify_(g+".groupedMapReduce("+h+", "+j+", ")+
c.formatQuery(f)+rethinkdb.util.spaceify_(", "+k+")");goog.asserts.assert("body"===l);return rethinkdb.util.spaceify_(g+".groupedMapReduce("+h+", "+j+", "+i+", ")+d.formatQuery(f)+" "}return g+".groupedMapReduce("+h+", "+j+", "+i+", "+k+")"},function(e,g){var h=new Mapping;h.setArg(a.args[0]);h.setBody(a.body.compile(g));var j=new Mapping;j.setArg(b.args[0]);j.setBody(b.body.compile(g));var i=new Reduction;i.setBase(c.compile(g));i.setVar1(d.args[0]);i.setVar2(d.args[1]);i.setBody(d.body.compile(g));
var k=new Builtin.GroupedMapReduce;k.setGroupMapping(h);k.setValueMapping(j);k.setReduction(i);e.setGroupedMapReduce(k)})};goog.exportProperty(rethinkdb.Expression.prototype,"groupedMapReduce",rethinkdb.Expression.prototype.groupedMapReduce);
rethinkdb.Expression.prototype.groupBy=function(a){rethinkdb.util.argCheck_(arguments,2);var b=Array.prototype.slice.call(arguments,0,-1);b.forEach(function(a){rethinkdb.util.typeCheck_(a,"string")});var c=arguments[arguments.length-1];rethinkdb.util.typeCheck_(c,"object");var d=rethinkdb.fn(function(a){return 1<b.length?rethinkdb.expr(b.map(a)):a(b[0])}),e=c.mapping||rethinkdb.fn(function(a){return a}),f=c.base,g=c.reduction;if(!g)throw new rethinkdb.errors.ClientError("Must provide a reduction to groupby");
if(void 0===f)throw new rethinkdb.errors.ClientError("Must provide a base for the reduction in groupby");var d=this.groupedMapReduce(d,e,f,g),h=c.finalizer;h&&(d=d.map(function(a){return a.merge({reduction:h(a("reduction"))})}));return d};goog.exportProperty(rethinkdb.Expression.prototype,"groupBy",rethinkdb.Expression.prototype.groupBy);rethinkdb.count={mapping:function(){return rethinkdb.expr(1)},base:0,reduction:function(a,b){return a.add(b)}};goog.exportSymbol("rethinkdb.count",rethinkdb.count);
rethinkdb.sum=function(a){rethinkdb.util.argCheck_(arguments,1);rethinkdb.util.typeCheck_(a,"string");return{mapping:function(b){return b(a)},base:0,reduction:function(a,c){return a.add(c)}}};goog.exportSymbol("rethinkdb.sum",rethinkdb.sum);
rethinkdb.average=function(a){rethinkdb.util.argCheck_(arguments,1);rethinkdb.util.typeCheck_(a,"string");return{mapping:function(b){return rethinkdb.expr([b(a),1])},base:[0,0],reduction:function(a,c){return rethinkdb.expr([a.nth(0).add(c.nth(0)),a.nth(1).add(c.nth(1))])},finalizer:function(a){return a.nth(0).div(a.nth(1))}}};goog.exportSymbol("rethinkdb.average",rethinkdb.average);
rethinkdb.Expression.prototype.contains=function(a){rethinkdb.util.typeCheck_(a,"string");var b=this;return rethinkdb.util.newExpr_(rethinkdb.BuiltinExpression,Builtin.BuiltinType.HASATTR,[this],function(c){return c?"arg:0"===c.shift()?b.formatQuery(c)+rethinkdb.util.spaceify_(".contains("+a+")"):rethinkdb.util.spaceify_(b.formatQuery())+rethinkdb.util.carrotify_(".contains("+a+")"):b.formatQuery()+".contains("+a+")"},function(b){b.setAttr(a)})};
goog.exportProperty(rethinkdb.Expression.prototype,"contains",rethinkdb.Expression.prototype.contains);
rethinkdb.Expression.prototype.getAttr=function(a){rethinkdb.util.typeCheck_(a,"string");var b=this;return rethinkdb.util.newExpr_(rethinkdb.BuiltinExpression,Builtin.BuiltinType.GETATTR,[this],function(c){if(c){if("arg:0"===c[0])return c.shift(),b.formatQuery(c);goog.asserts.assert("attr"===c[0]);return rethinkdb.util.spaceify_(b.formatQuery())+rethinkdb.util.carrotify_("('"+a+"')")}return b.formatQuery()+"('"+a+"')"},function(b){b.setAttr(a)})};
goog.exportProperty(rethinkdb.Expression.prototype,"getAttr",rethinkdb.Expression.prototype.getAttr);
rethinkdb.Expression.prototype.pick=function(){var a=Array.prototype.slice.call(arguments,0);goog.isArray(a)||(a=[a]);a.forEach(function(a){rethinkdb.util.typeCheck_(a,"string")});var b=this;return rethinkdb.util.newExpr_(rethinkdb.BuiltinExpression,Builtin.BuiltinType.PICKATTRS,[this],function(c){var d=a.map(function(a){return"'"+a+"'"});if(c){var e=c.shift();goog.asserts.assert("arg:0"===e);return b.formatQuery(c)+rethinkdb.util.spaceify_(".pick("+d.join(", ")+")")}return b.formatQuery()+".pick("+
d.join(", ")+")"},function(b){for(var d in a)b.addAttrs(a[d])})};goog.exportProperty(rethinkdb.Expression.prototype,"pick",rethinkdb.Expression.prototype.pick);
rethinkdb.Expression.prototype.unpick=function(a){goog.isArray(a)||(a=[a]);a.forEach(function(a){rethinkdb.util.typeCheck_(a,"string")});var b=this;return rethinkdb.util.newExpr_(rethinkdb.BuiltinExpression,Builtin.BuiltinType.WITHOUT,[this],function(c){var d=a.map(function(a){return"'"+a+"'"});if(c){var e=c.shift();goog.asserts.assert("arg:0"===e);return b.formatQuery(c)+rethinkdb.util.spaceify_(".unpick("+d.join(", ")+")")}return b.formatQuery()+".unpick("+d.join(", ")+")"},function(b){for(var d in a)b.addAttrs(a[d])})};
goog.exportProperty(rethinkdb.Expression.prototype,"unpick",rethinkdb.Expression.prototype.unpick);rethinkdb.Expression.prototype.pluck=function(){var a=Array.prototype.slice.call(arguments,0);return this.map(function(b){return rethinkdb.Expression.prototype.pick.apply(b,a)})};goog.exportProperty(rethinkdb.Expression.prototype,"pluck",rethinkdb.Expression.prototype.pluck);
rethinkdb.Expression.prototype.without=function(){var a=Array.prototype.slice.call(arguments,0);return this.map(function(b){return rethinkdb.Expression.prototype.unpick.apply(b,a)})};goog.exportProperty(rethinkdb.Expression.prototype,"without",rethinkdb.Expression.prototype.without);rethinkdb.VarExpression=function(a){this.varName_=a};goog.inherits(rethinkdb.VarExpression,rethinkdb.Expression);
rethinkdb.VarExpression.prototype.compile=function(){var a=new Term;a.setType(Term.TermType.VAR);a.setVar(this.varName_);return a};rethinkdb.VarExpression.prototype.formatQuery=function(a){var b="r.letVar('"+this.varName_+"')";return a?rethinkdb.util.carrotify_(b):b};rethinkdb.ImplicitVarExpression=function(){};goog.inherits(rethinkdb.ImplicitVarExpression,rethinkdb.Expression);rethinkdb.ImplicitVarExpression.prototype.compile=function(){var a=new Term;a.setType(Term.TermType.IMPLICIT_VAR);return a};
rethinkdb.ImplicitVarExpression.prototype.formatQuery=function(a){return a?"^^^^^^^^":"r.R('@')"};rethinkdb.AttrExpression=function(a,b){rethinkdb.BuiltinExpression.call(this,Builtin.BuiltinType.GETATTR,[a],function(c){if(c){var d=c.shift();if("arg:0"===d)return a.formatQuery(c)+"('"+b+"')";goog.asserts.assert("attr"===d);return rethinkdb.util.spaceify_(a.formatQuery())+rethinkdb.util.carrotify_("('"+b+"')")}return a.formatQuery()+"('"+b+"')"},function(a){a.setAttr(b)})};
goog.inherits(rethinkdb.AttrExpression,rethinkdb.BuiltinExpression);rethinkdb.R=function(a){rethinkdb.util.typeCheck_(a,"string");var a=a.split("."),b=a.shift();"@"===b[0]&&1<b.length?a.unshift(b.slice(1)):"@"!==b[0]&&a.unshift(b);for(var c=rethinkdb.util.newExpr_(rethinkdb.ImplicitVarExpression);b=a.shift();)c=rethinkdb.util.newExpr_(rethinkdb.AttrExpression,c,b);return c};goog.exportSymbol("rethinkdb.R",rethinkdb.R);
rethinkdb.letVar=function(a){rethinkdb.util.typeCheck_(a,"string");for(var a=a.split("."),b=a.shift(),c=rethinkdb.util.newExpr_(rethinkdb.VarExpression,b);b=a.shift();)c=rethinkdb.util.newExpr_(rethinkdb.AttrExpression,c,b);return c};goog.exportSymbol("rethinkdb.letVar",rethinkdb.letVar);
rethinkdb.Expression.prototype.merge=function(a){var a=rethinkdb.util.wrapIf_(a),b=this;return rethinkdb.util.newExpr_(rethinkdb.BuiltinExpression,Builtin.BuiltinType.MAPMERGE,[this,a],function(c){if(c){var d=c.shift();return"arg:0"===d?b.formatQuery(c)+rethinkdb.util.spaceify_(".merge("+a.formatQuery()+")"):"arg:1"===d?rethinkdb.util.spaceify_(b.formatQuery()+".merge(")+a.formatQuery(c)+" ":rethinkdb.util.carrotify_(b.formatQuery()+".merge("+a.formatQuery()+")")}return b.formatQuery()+".merge("+
a.formatQuery()+")"})};goog.exportProperty(rethinkdb.Expression.prototype,"merge",rethinkdb.Expression.prototype.merge);
rethinkdb.Expression.prototype.union=function(a){rethinkdb.util.argCheck_(arguments,1);var b=Array.prototype.slice.call(arguments,0).map(rethinkdb.util.wrapIf_),c=this;return rethinkdb.util.newExpr_(rethinkdb.BuiltinExpression,Builtin.BuiltinType.UNION,[this].concat(b),function(a){var e=b.map(function(a){return a.formatQuery()});if(a){var f=a.shift();if(f){if("arg:0"===f)return c.formatQuery(a)+rethinkdb.util.spaceify_(".union("+e.join(", ")+")");f=parseInt(f.split(":")[1],10);e=e.map(rethinkdb.util.spaceify_);
e[f]=b[f].formatQuery(a);return rethinkdb.util.spaceify_(c.formatQuery()+".union(")+e.join("  ")+" "}return rethinkdb.util.carrotify_(c.formatQuery()+".union("+e.join(", ")+")")}return c.formatQuery()+".union("+e.join(", ")+")"})};goog.exportProperty(rethinkdb.Expression.prototype,"union",rethinkdb.Expression.prototype.union);
rethinkdb.Expression.prototype.concatMap=function(a){var a=rethinkdb.util.functionWrap_(a),b=this;return rethinkdb.util.newExpr_(rethinkdb.BuiltinExpression,Builtin.BuiltinType.CONCATMAP,[this],function(c){if(c){var d=c.shift();if("arg:0"===d)return b.formatQuery(c)+rethinkdb.util.spaceify_(".concatMap("+a.formatQuery()+")");goog.asserts.assert("mapping"===d);return rethinkdb.util.spaceify_(b.formatQuery()+".concatMap(")+a.formatQuery(c)+" "}return b.formatQuery()+".concatMap("+a.formatQuery()+")"},
function(b,d){var e=new Mapping;e.setArg(a.args[0]);e.setBody(a.body.compile(d));var f=new Builtin.ConcatMap;f.setMapping(e);b.setConcatMap(f)})};goog.exportProperty(rethinkdb.Expression.prototype,"concatMap",rethinkdb.Expression.prototype.concatMap);rethinkdb.IfExpression=function(a,b,c){this.test_=a;this.trueBranch_=b;this.falseBranch_=c};goog.inherits(rethinkdb.IfExpression,rethinkdb.Expression);
rethinkdb.IfExpression.prototype.compile=function(a){var b=new Term.If;b.setTest(this.test_.compile(a));b.setTrueBranch(this.trueBranch_.compile(a));b.setFalseBranch(this.falseBranch_.compile(a));a=new Term;a.setType(Term.TermType.IF);a.setIf(b);return a};
rethinkdb.IfExpression.prototype.formatQuery=function(a){if(a){var b=a.shift(),c=rethinkdb.util.spaceify_(this.test_.formatQuery()),d=rethinkdb.util.spaceify_(this.trueBranch_.formatQuery()),e=rethinkdb.util.spaceify_(this.falseBranch_.formatQuery());if("test"===b)c=this.test_.formatQuery(a);else if("true"===b)d=this.trueBranch_.formatQuery(a);else if("false"===b)e=this.falseBranch_.formatQuery(a);else return rethinkdb.util.carrotify_("             "+c+"  "+d+"  "+e+" ");return"             "+c+"  "+
d+"  "+e+" "}return"r.branch("+this.test_.formatQuery()+", "+this.trueBranch_.formatQuery()+", "+this.falseBranch_.formatQuery()+")"};rethinkdb.branch=function(a,b,c){rethinkdb.util.typeCheck_(b,rethinkdb.Query);rethinkdb.util.typeCheck_(c,rethinkdb.Query);a=rethinkdb.util.wrapIf_(a);return rethinkdb.util.newExpr_(rethinkdb.IfExpression,a,b,c)};goog.exportSymbol("rethinkdb.branch",rethinkdb.branch);rethinkdb.LetExpression=function(a,b){this.bindings_=a;this.body_=b};
goog.inherits(rethinkdb.LetExpression,rethinkdb.Expression);rethinkdb.LetExpression.prototype.compile=function(a){var b=new Term.Let,c;for(c in this.bindings_)if(this.bindings_.hasOwnProperty(c)){var d=this.bindings_[c],e=new VarTermTuple;e.setVar(c);e.setTerm(d.compile(a));b.addBinds(e)}b.setExpr(this.body_.compile(a));a=new Term;a.setType(Term.TermType.LET);a.setLet(b);return a};
rethinkdb.LetExpression.prototype.formatQuery=function(a){var b=[],c;for(c in this.bindings_)this.bindings_.hasOwnProperty(c)&&b.push([c,this.bindings_[c]]);if(a){c=a.shift();goog.asserts.assert(-1!=c.indexOf("bind:"));var d=c.split(":")[1],b=b.map(function(b){return b[0]===d?rethinkdb.util.spaceify_("'"+b[0]+"':")+b[1].formatQuery(a):rethinkdb.util.spaceify_("'"+b[0]+"':"+b[1].formatQuery())});return rethinkdb.util.spaceify_("r.let({")+b.join("  ")+rethinkdb.util.spaceify_("}, "+this.body_.formatQuery()+
")")}b=b.map(function(a){return"'"+a[0]+"':"+a[1].formatQuery()});return"r.let({"+b.join(", ")+"}, "+this.body_.formatQuery()+")"};rethinkdb.let=function(a,b){rethinkdb.util.typeCheck_(b,rethinkdb.Query);for(var c in a)a.hasOwnProperty(c)&&rethinkdb.util.typeCheck_(a[c],rethinkdb.Expression);return rethinkdb.util.newExpr_(rethinkdb.LetExpression,a,b)};goog.exportSymbol("rethinkdb.let",rethinkdb.let);rethinkdb.ForEachQuery=function(a,b){this.leftExpr_=a;this.fun_=b};
goog.inherits(rethinkdb.ForEachQuery,rethinkdb.Query);
rethinkdb.ForEachQuery.prototype.buildQuery=function(a){var b=new WriteQuery.ForEach;b.setStream(this.leftExpr_.compile(a));b.setVar(this.fun_.args[0]);a=this.fun_.body.buildQuery(a).getWriteQuery();if(!a)throw new rethinkdb.errors.ClientError("For each requires a write query to execute");b.addQueries(a);a=new WriteQuery;a.setType(WriteQuery.WriteQueryType.FOREACH);a.setForEach(b);b=new Query;b.setType(Query.QueryType.WRITE);b.setWriteQuery(a);return b};
rethinkdb.ForEachQuery.prototype.formatQuery=function(a){if(a){var b=a.shift();goog.asserts.assert("stream"===b);return this.leftExpr_.formatQuery(a)+rethinkdb.util.spaceify_(".forEach("+this.fun_.formatQuery()+")")}return this.leftExpr_.formatQuery()+".forEach("+this.fun_.formatQuery()+")"};rethinkdb.Expression.prototype.forEach=function(a){a=rethinkdb.util.functionWrap_(a);return rethinkdb.util.newExpr_(rethinkdb.ForEachQuery,this,a)};
goog.exportProperty(rethinkdb.Expression.prototype,"forEach",rethinkdb.Expression.prototype.forEach);rethinkdb.Expression.prototype.innerJoin=function(a,b){return this.concatMap(function(c){return a.concatMap(function(a){return rethinkdb.branch(b(c,a),rethinkdb.expr([{left:c,right:a}]),rethinkdb.expr([]))})})};goog.exportProperty(rethinkdb.Expression.prototype,"innerJoin",rethinkdb.Expression.prototype.innerJoin);
rethinkdb.Expression.prototype.outerJoin=function(a,b){return this.concatMap(function(c){return rethinkdb.let({matches:a.concatMap(function(a){return rethinkdb.branch(b(c,a),rethinkdb.expr([{left:c,right:a}]),rethinkdb.expr([]))}).streamToArray()},rethinkdb.branch(rethinkdb.letVar("matches").count().gt(0),rethinkdb.letVar("matches"),rethinkdb.expr([{left:c}])))})};goog.exportProperty(rethinkdb.Expression.prototype,"outerJoin",rethinkdb.Expression.prototype.outerJoin);
rethinkdb.Expression.prototype.eqJoin=function(a,b){return this.concatMap(function(c){return rethinkdb.let({right:b.get(c(a))},rethinkdb.branch(rethinkdb.letVar("right").ne(rethinkdb.expr(null)),rethinkdb.expr([{left:c,right:rethinkdb.letVar("right")}]),rethinkdb.expr([])))})};goog.exportProperty(rethinkdb.Expression.prototype,"eqJoin",rethinkdb.Expression.prototype.eqJoin);
rethinkdb.Expression.prototype.zip=function(){return this.map(function(a){return rethinkdb.branch(a.contains("right"),a("left").merge(a("right")),a("left"))})};goog.exportProperty(rethinkdb.Expression.prototype,"zip",rethinkdb.Expression.prototype.zip);
rethinkdb.Expression.prototype.streamToArray=function(){var a=this;return rethinkdb.util.newExpr_(rethinkdb.BuiltinExpression,Builtin.BuiltinType.STREAMTOARRAY,[this],function(b){if(b){var c=b.shift();goog.asserts.assert("arg:0"===c);return a.formatQuery(b)+"                "}return a.formatQuery()+".streamToArray()"})};goog.exportProperty(rethinkdb.Expression.prototype,"streamToArray",rethinkdb.Expression.prototype.streamToArray);
rethinkdb.Expression.prototype.arrayToStream=function(){var a=this;return rethinkdb.util.newExpr_(rethinkdb.BuiltinExpression,Builtin.BuiltinType.ARRAYTOSTREAM,[this],function(b){if(b){var c=b.shift();goog.asserts.assert("arg:0"===c);return a.formatQuery(b)+"                "}return a.formatQuery()+".arrayToStream()"})};goog.exportProperty(rethinkdb.Expression.prototype,"arrayToStream",rethinkdb.Expression.prototype.arrayToStream);rethinkdb.Table=function(a,b,c){this.name_=a;this.db_=b;this.allowOutdated_="boolean"===typeof c?c:null};goog.inherits(rethinkdb.Table,rethinkdb.Expression);
rethinkdb.Table.prototype.compile=function(a){var b=new Term;b.setType(Term.TermType.TABLE);var c=new Term.Table,d=new TableRef;d.setDbName(this.db_||rethinkdb.last_connection_.getDefaultDb());d.setTableName(this.name_);d.setUseOutdated(null!==this.allowOutdated_?this.allowOutdated:a&&void 0!==a.defaultAllowOutdated?a.defaultAllowOutdated:!1);c.setTableRef(d);b.setTable(c);return b};
rethinkdb.Table.prototype.formatQuery=function(a){return a?this.db_?rethinkdb.util.carrotify_("r.db('"+this.db_+"').table('"+this.name_+"')"):rethinkdb.util.carrotify_("r.table('"+this.name_+"')"):this.db_?"r.db('"+this.db_+"').table('"+this.name_+"')":"r.table('"+this.name_+"')"};rethinkdb.GetExpression=function(a,b,c){this.table_=a;this.key_=b;this.primaryKey_=c||"id"};goog.inherits(rethinkdb.GetExpression,rethinkdb.Expression);
rethinkdb.GetExpression.prototype.compile=function(a){var b=this.table_.compile(a).getTable().getTableRefOrDefault(),c=new Term.GetByKey;c.setTableRef(b);c.setAttrname(this.primaryKey_);c.setKey(this.key_.compile(a));a=new Term;a.setType(Term.TermType.GETBYKEY);a.setGetByKey(c);return a};
rethinkdb.GetExpression.prototype.formatQuery=function(a){if(a){var b=a.shift();if("key"===b)return rethinkdb.util.spaceify_(this.table_.formatQuery()+".get(")+this.key_.formatQuery(a)+rethinkdb.util.spaceify_(", '"+this.primaryKey_+"')");if("attrname"===b)return rethinkdb.util.spaceify_(this.table_.formatQuery()+".get("+this.key_.formatQuery()+", ")+rethinkdb.util.carrotify_("'"+this.primaryKey_+"'")+" ";goog.asserts.assert(void 0===b);return this.table_.formatQuery(a)+rethinkdb.util.spaceify_(".get("+
this.key_.formatQuery()+", '"+this.primaryKey_+"')")}return this.table_.formatQuery()+".get("+this.key_.formatQuery()+", '"+this.primaryKey_+"')"};rethinkdb.Table.prototype.get=function(a,b){rethinkdb.util.argCheck_(arguments,1);a=rethinkdb.util.wrapIf_(a);return rethinkdb.util.newExpr_(rethinkdb.GetExpression,this,a,b)};goog.exportProperty(rethinkdb.Table.prototype,"get",rethinkdb.Table.prototype.get);
rethinkdb.InsertQuery=function(a,b,c){this.table_=a;this.docs_=b;this.upsert_="undefined"===typeof c?!1:c};goog.inherits(rethinkdb.InsertQuery,rethinkdb.Query);
rethinkdb.InsertQuery.prototype.buildQuery=function(a){var b=this.table_.compile(a).getTable().getTableRefOrDefault(),c=new WriteQuery.Insert;c.setTableRef(b);for(b=0;b<this.docs_.length;b++)c.addTerms(this.docs_[b].compile(a));c.setOverwrite(this.upsert_);a=new WriteQuery;a.setType(WriteQuery.WriteQueryType.INSERT);a.setInsert(c);c=new Query;c.setType(Query.QueryType.WRITE);c.setWriteQuery(a);return c};
rethinkdb.InsertQuery.prototype.formatQuery=function(a){var b=this.docs_.map(function(a){return a.formatQuery()});if(a){var b=b.map(rethinkdb.util.spaceify_),c=a.shift(),d;void 0!==c?(d=rethinkdb.util.spaceify_(this.table_.formatQuery()),c=c.split(":"),goog.asserts.assert("term"===c[0]),c=parseInt(c[1],10),b[c]=this.docs_[c].formatQuery(a)):d=this.table_.formatQuery(a);a=" "+b.join("  ")+" ";return d+"        "+a+" "}a="["+b.join(", ")+"]";return this.table_.formatQuery()+".insert("+a+")"};
rethinkdb.Table.prototype.insert=function(a,b){rethinkdb.util.argCheck_(arguments,1);goog.isArray(a)||(a=[a]);a=a.map(rethinkdb.expr);return new rethinkdb.InsertQuery(this,a,b)};goog.exportProperty(rethinkdb.Table.prototype,"insert",rethinkdb.Table.prototype.insert);rethinkdb.DeleteQuery=function(a){this.view_=a};goog.inherits(rethinkdb.DeleteQuery,rethinkdb.Query);
rethinkdb.DeleteQuery.prototype.buildQuery=function(a){var b=new WriteQuery.Delete;b.setView(this.view_.compile(a));a=new WriteQuery;a.setType(WriteQuery.WriteQueryType.DELETE);a.setDelete(b);b=new Query;b.setType(Query.QueryType.WRITE);b.setWriteQuery(a);return b};rethinkdb.DeleteQuery.prototype.formatQuery=function(a){if(a){var b=a.shift();goog.asserts.assert("view"===b);return this.view_.formatQuery(a)+"      "}return this.view_.formatQuery()+".del()"};
rethinkdb.PointDeleteQuery=function(a,b,c){this.table_=a;this.key_=b;this.primaryKey_=c||"id"};goog.inherits(rethinkdb.PointDeleteQuery,rethinkdb.Query);
rethinkdb.PointDeleteQuery.prototype.buildQuery=function(a){var b=new WriteQuery.PointDelete;b.setTableRef(this.table_.compile(a).getTableOrDefault().getTableRefOrDefault());b.setAttrname(this.primaryKey_);b.setKey(this.key_.compile(a));a=new WriteQuery;a.setType(WriteQuery.WriteQueryType.POINTDELETE);a.setPointDelete(b);b=new Query;b.setType(Query.QueryType.WRITE);b.setWriteQuery(a);return b};
rethinkdb.PointDeleteQuery.prototype.formatQuery=function(a){if(a){var b=a.shift();return void 0!==b?(goog.asserts.assert("key"===b),rethinkdb.util.spaceify_(this.table_.formatQuery()+".get(")+this.key_.formatQuery(a)+"       "):this.table_.formatQuery(a)+rethinkdb.util.spaceify_(".get("+this.key_.formatQuery()+").del()")}return this.table_.formatQuery()+".get("+this.key_.formatQuery()+").del()"};
rethinkdb.Expression.prototype.del=function(){if(0<arguments.length)throw new TypeError("Method del does not take any arguments. Calling del directly on a table reference will delete the whole table. Tod delete a single row call table.get(key).del()");return this instanceof rethinkdb.GetExpression?new rethinkdb.PointDeleteQuery(this.table_,this.key_,this.primaryKey_):new rethinkdb.DeleteQuery(this)};goog.exportProperty(rethinkdb.Expression.prototype,"del",rethinkdb.Expression.prototype.del);
rethinkdb.UpdateQuery=function(a,b,c){this.view_=a;this.mapping_=b;this.allowNonAtomic_=c};goog.inherits(rethinkdb.UpdateQuery,rethinkdb.Query);
rethinkdb.UpdateQuery.prototype.buildQuery=function(a){var b=new Mapping;b.setArg(this.mapping_.args[0]);b.setBody(this.mapping_.body.compile(a));var c=new WriteQuery.Update;c.setView(this.view_.compile(a));c.setMapping(b);a=new WriteQuery;a.setType(WriteQuery.WriteQueryType.UPDATE);a.setUpdate(c);a.setAtomic(!this.allowNonAtomic_);c=new Query;c.setType(Query.QueryType.WRITE);c.setWriteQuery(a);return c};
rethinkdb.UpdateQuery.prototype.formatQuery=function(a){if(a){var b=a.shift();if("view"===b)return this.view_.formatQuery(a)+rethinkdb.util.spaceify_(".update("+this.mapping_.formatQuery()+")");goog.asserts.assert("mapping"===b);return rethinkdb.util.spaceify_(this.view_.formatQuery()+".update(")+this.mapping_.formatQuery(a)+" "}return this.view_.formatQuery()+".update("+this.mapping_.formatQuery()+")"};
rethinkdb.PointUpdateQuery=function(a,b,c,d,e){this.table_=a;this.key_=b;this.primaryKey_=c||"id";this.mapping_=d;this.allowNonAtomic_=e};goog.inherits(rethinkdb.PointUpdateQuery,rethinkdb.Query);
rethinkdb.PointUpdateQuery.prototype.buildQuery=function(a){var b=new Mapping;b.setArg(this.mapping_.args[0]);b.setBody(this.mapping_.body.compile(a));var c=new WriteQuery.PointUpdate;c.setTableRef(this.table_.compile(a).getTableOrDefault().getTableRefOrDefault());c.setAttrname(this.primaryKey_);c.setKey(this.key_.compile(a));c.setMapping(b);a=new WriteQuery;a.setType(WriteQuery.WriteQueryType.POINTUPDATE);a.setPointUpdate(c);a.setAtomic(!this.allowNonAtomic_);c=new Query;c.setType(Query.QueryType.WRITE);
c.setWriteQuery(a);return c};
rethinkdb.PointUpdateQuery.prototype.formatQuery=function(a){if(a){var b=a.shift();if(void 0===b)return this.table_.formatQuery(a)+rethinkdb.util.spaceify_(".get("+this.key_.formatQuery()+", '"+this.primaryKey_+"').update("+this.mapping_.formatQuery()+")");if("key"===b)return rethinkdb.util.spaceify_(this.table_.formatQuery()+".get(")+this.key_.formatQuery(a)+rethinkdb.util.spaceify_(", '"+this.primaryKey_+"').update("+this.mapping_.formatQuery()+")");if("keyname"===b)return rethinkdb.util.spaceify_(this.table_.formatQuery()+".get("+
this.key_.formatQuery()+", ")+rethinkdb.util.carrotify_("'"+this.primaryKey_+"'")+rethinkdb.util.spaceify_(").update("+this.mapping_.formatQuery()+")");goog.asserts.assert("point_map"===b);return rethinkdb.util.spaceify_(this.table_.formatQuery()+".get("+this.key_.formatQuery()+", '"+this.primaryKey_+"').update(")+this.mapping_.formatQuery(a)+" "}return this.table_.formatQuery()+".get("+this.key_.formatQuery()+", '"+this.primaryKey_+"').update("+this.mapping_.formatQuery()+")"};
rethinkdb.Expression.prototype.update=function(a,b){rethinkdb.util.argCheck_(arguments,1);a=rethinkdb.util.functionWrap_(a);b=void 0===b?!1:b;return this instanceof rethinkdb.GetExpression?new rethinkdb.PointUpdateQuery(this.table_,this.key_,this.primaryKey_,a,b):new rethinkdb.UpdateQuery(this,a,b)};goog.exportProperty(rethinkdb.Expression.prototype,"update",rethinkdb.Expression.prototype.update);rethinkdb.MutateQuery=function(a,b,c){this.view_=a;this.mapping_=b;this.allowNonAtomic_=c};
goog.inherits(rethinkdb.MutateQuery,rethinkdb.Query);rethinkdb.MutateQuery.prototype.buildQuery=function(a){var b=new Mapping;b.setArg(this.mapping_.args[0]);b.setBody(this.mapping_.body.compile(a));var c=new WriteQuery.Mutate;c.setView(this.view_.compile(a));c.setMapping(b);a=new WriteQuery;a.setType(WriteQuery.WriteQueryType.MUTATE);a.setMutate(c);a.setAtomic(!this.allowNonAtomic_);c=new Query;c.setType(Query.QueryType.WRITE);c.setWriteQuery(a);return c};
rethinkdb.MutateQuery.prototype.formatQuery=function(a){if(a){var b=a.shift();if("view"===b)return this.view_.formatQuery(a)+rethinkdb.util.spaceify_(".replace("+this.mapping_.formatQuery()+")");goog.asserts.assert("mapping"===b);return rethinkdb.util.spaceify_(this.view_.formatQuery()+".replace(")+this.mapping_.formatQuery(a)+" "}return this.view_.formatQuery()+".replace("+this.mapping_.formatQuery()+")"};
rethinkdb.PointMutateQuery=function(a,b,c,d,e){this.table_=a;this.key_=b;this.primaryKey_=c||"id";this.mapping_=d;this.allowNonAtomic_=e};goog.inherits(rethinkdb.PointMutateQuery,rethinkdb.Query);
rethinkdb.PointMutateQuery.prototype.buildQuery=function(a){var b=new Mapping;b.setArg(this.mapping_.args[0]);b.setBody(this.mapping_.body.compile(a));var c=new WriteQuery.PointMutate;c.setTableRef(this.table_.compile(a).getTableOrDefault().getTableRefOrDefault());c.setAttrname(this.primaryKey_);c.setKey(this.key_.compile(a));c.setMapping(b);a=new WriteQuery;a.setType(WriteQuery.WriteQueryType.POINTMUTATE);a.setPointMutate(c);a.setAtomic(!this.allowNonAtomic_);c=new Query;c.setType(Query.QueryType.WRITE);
c.setWriteQuery(a);return c};
rethinkdb.PointMutateQuery.prototype.formatQuery=function(a){if(a){var b=a.shift();if(void 0===b)return this.table_.formatQuery(a)+rethinkdb.util.spaceify_(".get("+this.key_.formatQuery()+", '"+this.primaryKey_+"').mutate("+this.mapping_.formatQuery()+")");if("key"===b)return rethinkdb.util.spaceify_(this.table_.formatQuery()+".get(")+this.key_.formatQuery(a)+rethinkdb.util.spaceify_(", '"+this.primaryKey_+"').mutate("+this.mapping_.formatQuery()+")");if("keyname"===b)return rethinkdb.util.spaceify_(this.table_.formatQuery()+".get("+
this.key_.formatQuery()+", ")+rethinkdb.util.carrotify_("'"+this.primaryKey_+"'")+rethinkdb.util.spaceify_(").mutate("+this.mapping_.formatQuery()+")");goog.asserts.assert("point_map"===b);return rethinkdb.util.spaceify_(this.table_.formatQuery()+".get("+this.key_.formatQuery()+", '"+this.primaryKey_+"').mutate(")+this.mapping_.formatQuery(a)+" "}return this.table_.formatQuery()+".get("+this.key_.formatQuery()+", '"+this.primaryKey_+"').mutate("+this.mapping_.formatQuery()+")"};
rethinkdb.Expression.prototype.replace=function(a,b){rethinkdb.util.argCheck_(arguments,1);a=rethinkdb.util.functionWrap_(a);b=void 0===b?!1:b;return this instanceof rethinkdb.GetExpression?new rethinkdb.PointMutateQuery(this.table_,this.key_,this.primaryKey_,a,b):new rethinkdb.MutateQuery(this,a,b)};goog.exportProperty(rethinkdb.Expression.prototype,"replace",rethinkdb.Expression.prototype.replace);goog.proto2.Serializer=function(){};goog.proto2.Serializer.prototype.getSerializedValue=function(a,b){return a.isCompositeType()?this.serialize(b):b};goog.proto2.Serializer.prototype.deserialize=function(a,b){var c=a.createMessageInstance();this.deserializeTo(c,b);goog.proto2.Util.assert(c instanceof goog.proto2.Message);return c};
goog.proto2.Serializer.prototype.getDeserializedValue=function(a,b){if(a.isCompositeType())return b instanceof goog.proto2.Message?b:this.deserialize(a.getFieldMessageType(),b);if(!a.deserializationConversionPermitted())return b;var c=a.getNativeType();if(c===String){if("number"===typeof b)return String(b)}else if(c===Number&&"string"===typeof b&&/^-?[0-9]+$/.test(b))return Number(b);return b};goog.proto2.LazyDeserializer=function(){};goog.inherits(goog.proto2.LazyDeserializer,goog.proto2.Serializer);goog.proto2.LazyDeserializer.prototype.deserialize=function(a,b){var c=a.createMessageInstance();c.initializeForLazyDeserializer(this,b);goog.proto2.Util.assert(c instanceof goog.proto2.Message);return c};goog.proto2.LazyDeserializer.prototype.deserializeTo=function(){throw Error("Unimplemented");};goog.math={};goog.math.Long=function(a,b){this.low_=a|0;this.high_=b|0};goog.math.Long.IntCache_={};goog.math.Long.fromInt=function(a){if(-128<=a&&128>a){var b=goog.math.Long.IntCache_[a];if(b)return b}b=new goog.math.Long(a|0,0>a?-1:0);-128<=a&&128>a&&(goog.math.Long.IntCache_[a]=b);return b};
goog.math.Long.fromNumber=function(a){return isNaN(a)||!isFinite(a)?goog.math.Long.ZERO:a<=-goog.math.Long.TWO_PWR_63_DBL_?goog.math.Long.MIN_VALUE:a+1>=goog.math.Long.TWO_PWR_63_DBL_?goog.math.Long.MAX_VALUE:0>a?goog.math.Long.fromNumber(-a).negate():new goog.math.Long(a%goog.math.Long.TWO_PWR_32_DBL_|0,a/goog.math.Long.TWO_PWR_32_DBL_|0)};goog.math.Long.fromBits=function(a,b){return new goog.math.Long(a,b)};
goog.math.Long.fromString=function(a,b){if(0==a.length)throw Error("number format error: empty string");var c=b||10;if(2>c||36<c)throw Error("radix out of range: "+c);if("-"==a.charAt(0))return goog.math.Long.fromString(a.substring(1),c).negate();if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character: '+a);for(var d=goog.math.Long.fromNumber(Math.pow(c,8)),e=goog.math.Long.ZERO,f=0;f<a.length;f+=8){var g=Math.min(8,a.length-f),h=parseInt(a.substring(f,f+g),c);8>g?(g=goog.math.Long.fromNumber(Math.pow(c,
g)),e=e.multiply(g).add(goog.math.Long.fromNumber(h))):(e=e.multiply(d),e=e.add(goog.math.Long.fromNumber(h)))}return e};goog.math.Long.TWO_PWR_16_DBL_=65536;goog.math.Long.TWO_PWR_24_DBL_=16777216;goog.math.Long.TWO_PWR_32_DBL_=goog.math.Long.TWO_PWR_16_DBL_*goog.math.Long.TWO_PWR_16_DBL_;goog.math.Long.TWO_PWR_31_DBL_=goog.math.Long.TWO_PWR_32_DBL_/2;goog.math.Long.TWO_PWR_48_DBL_=goog.math.Long.TWO_PWR_32_DBL_*goog.math.Long.TWO_PWR_16_DBL_;
goog.math.Long.TWO_PWR_64_DBL_=goog.math.Long.TWO_PWR_32_DBL_*goog.math.Long.TWO_PWR_32_DBL_;goog.math.Long.TWO_PWR_63_DBL_=goog.math.Long.TWO_PWR_64_DBL_/2;goog.math.Long.ZERO=goog.math.Long.fromInt(0);goog.math.Long.ONE=goog.math.Long.fromInt(1);goog.math.Long.NEG_ONE=goog.math.Long.fromInt(-1);goog.math.Long.MAX_VALUE=goog.math.Long.fromBits(-1,2147483647);goog.math.Long.MIN_VALUE=goog.math.Long.fromBits(0,-2147483648);goog.math.Long.TWO_PWR_24_=goog.math.Long.fromInt(16777216);
goog.math.Long.prototype.toInt=function(){return this.low_};goog.math.Long.prototype.toNumber=function(){return this.high_*goog.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()};
goog.math.Long.prototype.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(goog.math.Long.MIN_VALUE)){var b=goog.math.Long.fromNumber(a),c=this.div(b),b=c.multiply(b).subtract(this);return c.toString(a)+b.toInt().toString(a)}return"-"+this.negate().toString(a)}for(var c=goog.math.Long.fromNumber(Math.pow(a,6)),b=this,d="";;){var e=b.div(c),f=b.subtract(e.multiply(c)).toInt().toString(a),b=e;if(b.isZero())return f+
d;for(;6>f.length;)f="0"+f;d=""+f+d}};goog.math.Long.prototype.getHighBits=function(){return this.high_};goog.math.Long.prototype.getLowBits=function(){return this.low_};goog.math.Long.prototype.getLowBitsUnsigned=function(){return 0<=this.low_?this.low_:goog.math.Long.TWO_PWR_32_DBL_+this.low_};
goog.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(goog.math.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var a=0!=this.high_?this.high_:this.low_,b=31;0<b&&0==(a&1<<b);b--);return 0!=this.high_?b+33:b+1};goog.math.Long.prototype.isZero=function(){return 0==this.high_&&0==this.low_};goog.math.Long.prototype.isNegative=function(){return 0>this.high_};goog.math.Long.prototype.isOdd=function(){return 1==(this.low_&1)};
goog.math.Long.prototype.equals=function(a){return this.high_==a.high_&&this.low_==a.low_};goog.math.Long.prototype.notEquals=function(a){return this.high_!=a.high_||this.low_!=a.low_};goog.math.Long.prototype.lessThan=function(a){return 0>this.compare(a)};goog.math.Long.prototype.lessThanOrEqual=function(a){return 0>=this.compare(a)};goog.math.Long.prototype.greaterThan=function(a){return 0<this.compare(a)};goog.math.Long.prototype.greaterThanOrEqual=function(a){return 0<=this.compare(a)};
goog.math.Long.prototype.compare=function(a){if(this.equals(a))return 0;var b=this.isNegative(),c=a.isNegative();return b&&!c?-1:!b&&c?1:this.subtract(a).isNegative()?-1:1};goog.math.Long.prototype.negate=function(){return this.equals(goog.math.Long.MIN_VALUE)?goog.math.Long.MIN_VALUE:this.not().add(goog.math.Long.ONE)};
goog.math.Long.prototype.add=function(a){var b=this.high_>>>16,c=this.high_&65535,d=this.low_>>>16,e=a.high_>>>16,f=a.high_&65535,g=a.low_>>>16,h;h=0+((this.low_&65535)+(a.low_&65535));a=0+(h>>>16);a+=d+g;d=0+(a>>>16);d+=c+f;c=0+(d>>>16);c=c+(b+e)&65535;return goog.math.Long.fromBits((a&65535)<<16|h&65535,c<<16|d&65535)};goog.math.Long.prototype.subtract=function(a){return this.add(a.negate())};
goog.math.Long.prototype.multiply=function(a){if(this.isZero()||a.isZero())return goog.math.Long.ZERO;if(this.equals(goog.math.Long.MIN_VALUE))return a.isOdd()?goog.math.Long.MIN_VALUE:goog.math.Long.ZERO;if(a.equals(goog.math.Long.MIN_VALUE))return this.isOdd()?goog.math.Long.MIN_VALUE:goog.math.Long.ZERO;if(this.isNegative())return a.isNegative()?this.negate().multiply(a.negate()):this.negate().multiply(a).negate();if(a.isNegative())return this.multiply(a.negate()).negate();if(this.lessThan(goog.math.Long.TWO_PWR_24_)&&
a.lessThan(goog.math.Long.TWO_PWR_24_))return goog.math.Long.fromNumber(this.toNumber()*a.toNumber());var b=this.high_>>>16,c=this.high_&65535,d=this.low_>>>16,e=this.low_&65535,f=a.high_>>>16,g=a.high_&65535,h=a.low_>>>16,a=a.low_&65535,j,i,k,l;l=0+e*a;k=0+(l>>>16);k+=d*a;i=0+(k>>>16);k=(k&65535)+e*h;i+=k>>>16;k&=65535;i+=c*a;j=0+(i>>>16);i=(i&65535)+d*h;j+=i>>>16;i&=65535;i+=e*g;j+=i>>>16;i&=65535;j=j+(b*a+c*h+d*g+e*f)&65535;return goog.math.Long.fromBits(k<<16|l&65535,j<<16|i)};
goog.math.Long.prototype.div=function(a){if(a.isZero())throw Error("division by zero");if(this.isZero())return goog.math.Long.ZERO;if(this.equals(goog.math.Long.MIN_VALUE)){if(a.equals(goog.math.Long.ONE)||a.equals(goog.math.Long.NEG_ONE))return goog.math.Long.MIN_VALUE;if(a.equals(goog.math.Long.MIN_VALUE))return goog.math.Long.ONE;var b=this.shiftRight(1).div(a).shiftLeft(1);if(b.equals(goog.math.Long.ZERO))return a.isNegative()?goog.math.Long.ONE:goog.math.Long.NEG_ONE;var c=this.subtract(a.multiply(b));
return b.add(c.div(a))}if(a.equals(goog.math.Long.MIN_VALUE))return goog.math.Long.ZERO;if(this.isNegative())return a.isNegative()?this.negate().div(a.negate()):this.negate().div(a).negate();if(a.isNegative())return this.div(a.negate()).negate();for(var d=goog.math.Long.ZERO,c=this;c.greaterThanOrEqual(a);){for(var b=Math.max(1,Math.floor(c.toNumber()/a.toNumber())),e=Math.ceil(Math.log(b)/Math.LN2),e=48>=e?1:Math.pow(2,e-48),f=goog.math.Long.fromNumber(b),g=f.multiply(a);g.isNegative()||g.greaterThan(c);)b-=
e,f=goog.math.Long.fromNumber(b),g=f.multiply(a);f.isZero()&&(f=goog.math.Long.ONE);d=d.add(f);c=c.subtract(g)}return d};goog.math.Long.prototype.modulo=function(a){return this.subtract(this.div(a).multiply(a))};goog.math.Long.prototype.not=function(){return goog.math.Long.fromBits(~this.low_,~this.high_)};goog.math.Long.prototype.and=function(a){return goog.math.Long.fromBits(this.low_&a.low_,this.high_&a.high_)};
goog.math.Long.prototype.or=function(a){return goog.math.Long.fromBits(this.low_|a.low_,this.high_|a.high_)};goog.math.Long.prototype.xor=function(a){return goog.math.Long.fromBits(this.low_^a.low_,this.high_^a.high_)};goog.math.Long.prototype.shiftLeft=function(a){a&=63;if(0==a)return this;var b=this.low_;return 32>a?goog.math.Long.fromBits(b<<a,this.high_<<a|b>>>32-a):goog.math.Long.fromBits(0,b<<a-32)};
goog.math.Long.prototype.shiftRight=function(a){a&=63;if(0==a)return this;var b=this.high_;return 32>a?goog.math.Long.fromBits(this.low_>>>a|b<<32-a,b>>a):goog.math.Long.fromBits(b>>a-32,0<=b?0:-1)};goog.math.Long.prototype.shiftRightUnsigned=function(a){a&=63;if(0==a)return this;var b=this.high_;return 32>a?goog.math.Long.fromBits(this.low_>>>a|b<<32-a,b>>>a):32==a?goog.math.Long.fromBits(b,0):goog.math.Long.fromBits(b>>>a-32,0)};function UTF8ArrayToASCIIString(a){for(var b=[],c=0;c<a.length;c++)b.push(String.fromCharCode(a[c]));return b.join("")}function UTF8ArrayToString(a){return decodeURIComponent(escape(UTF8ArrayToASCIIString(a)))}function ASCIIStringToArray(a){return new Uint8Array(Array.prototype.map.call(a,function(a){return a.charCodeAt(0)}))}function StringToUTF8Array(a){return ASCIIStringToArray(unescape(encodeURIComponent(a)))}goog.proto2.WireFormatSerializer=function(){this.deserializationIndex_=0};
goog.inherits(goog.proto2.WireFormatSerializer,goog.proto2.Serializer);goog.proto2.WireFormatSerializer.prototype.badMessageFormat_=function(a){throw new goog.debug.Error("Error deserializing incorrectly formated message, "+a);};
goog.proto2.WireFormatSerializer.prototype.serialize=function(a){for(var b=a.getDescriptor().getFields(),c=[],d=0,e=0;e<b.length;e++){var f=b[e];if(a.has(f)){var g=0;do{var h=this.getSerializedValue(f,a.get(f,g));c.push(h);d+=h.byteLength;g++}while(f.isRepeated()&&g<a.countOf(f))}}a=new Uint8Array(d);for(e=b=0;e<c.length;e++)d=c[e],a.set(new Uint8Array(d),b),b+=d.byteLength;return a};
goog.proto2.WireFormatSerializer.prototype.getSerializedValue=function(a,b){var c=a.getTag(),d=a.getFieldType(),e=goog.proto2.WireFormatSerializer.WireTypeForFieldType(d),c=this.encodeVarInt(goog.math.Long.fromNumber(c<<3|e)),f;switch(e){case goog.proto2.WireFormatSerializer.WireType.VARINT:f=goog.math.Long.fromNumber(b);if(d==goog.proto2.FieldDescriptor.FieldType.SINT64||d==goog.proto2.FieldDescriptor.FieldType.SINT32)f=this.zigZagEncode(f);f=this.encodeVarInt(f);break;case goog.proto2.WireFormatSerializer.WireType.FIXED64:f=
this.encodeFixed64(a,b);break;case goog.proto2.WireFormatSerializer.WireType.LENGTH_DELIMITED:f=this.encodeLengthDelimited(a,b);break;case goog.proto2.WireFormatSerializer.WireType.START_GROUP:this.badMessageFormat_("Use of Groups deprecated and not supported");break;case goog.proto2.WireFormatSerializer.WireType.FIXED32:f=this.encodeFixed32(a,b);break;default:this.badMessageFormat_("Unexpected wire type")}d=new Uint8Array(c.length+f.length);d.set(new Uint8Array(c),0);d.set(new Uint8Array(f),c.length);
return d};goog.proto2.WireFormatSerializer.prototype.zigZagEncode=function(a){return a.shiftLeft(1).xor(a.shiftRight(63))};goog.proto2.WireFormatSerializer.prototype.zigZagDecode=function(a){return a.shiftRight(1).xor(a.shiftLeft(63))};goog.proto2.WireFormatSerializer.prototype.encodeVarInt=function(a){function b(a){var d=a.modulo(goog.math.Long.fromNumber(128)).toInt();a.greaterThan(goog.math.Long.fromNumber(127))?(d+=128,a=b(a.shiftRight(7)),a.unshift(d)):a=[d];return a}a=b(a);return new Uint8Array(a)};
goog.proto2.WireFormatSerializer.prototype.encodeFixed64=function(a,b){var c=new ArrayBuffer(8),d=new DataView(c);switch(a.getFieldType()){case goog.proto2.FieldDescriptor.FieldType.DOUBLE:d.setFloat64(0,b,!0);break;case goog.proto2.FieldDescriptor.FieldType.FIXED64:var e=goog.math.Long.fromNumber(b);d.setUint32(0,e.getLowBitsUnsigned(),!0);d.setUint32(4,e.getHighBits(),!0);break;case goog.proto2.FieldDescriptor.FieldType.SFIXED64:e=goog.math.Long.fromNumber(b);d.setUint32(0,e.getLowBitsUnsigned(),
!0);d.setInt32(4,e.getHighBits(),!0);break;default:this.badMessageFormat_("Unexpected field type")}return new Uint8Array(c)};goog.proto2.WireFormatSerializer.prototype.encodeFixed32=function(a,b){var c=new ArrayBuffer(4),d=new DataView(c);switch(a.getFieldType()){case goog.proto2.FieldDescriptor.FieldType.FLOAT:d.setFloat32(0,b,!0);break;case goog.proto2.FieldDescriptor.FieldType.FIXED32:d.setUint32(0,b,!0);break;case goog.proto2.FieldDescriptor.FieldType.SFIXED32:d.setInt32(0,b,!0);break;default:this.badMessageFormat_("Unexpected field type")}return new Uint8Array(c)};
goog.proto2.WireFormatSerializer.prototype.encodeLengthDelimited=function(a,b){var c;switch(a.getFieldType()){case goog.proto2.FieldDescriptor.FieldType.MESSAGE:c=this.serialize(b);break;case goog.proto2.FieldDescriptor.FieldType.STRING:c=StringToUTF8Array(b);break;case goog.proto2.FieldDescriptor.FieldType.BYTES:c=ASCIIStringToArray(b);break;default:this.badMessageFormat_("Unexpected field type")}var d=c.length,e=this.encodeVarInt(goog.math.Long.fromNumber(d)),d=new Uint8Array(e.length+d);d.set(e,
0);d.set(c,e.length);return d};goog.proto2.WireFormatSerializer.prototype.deserializeTo=function(a,b){var c=a.getDescriptor();for(this.deserializationIndex_=0;this.deserializationIndex_<b.length;){var d=this.decodeVarInt(b),e=d%8,d=c.findFieldByTag(d>>3),e=this.decodeValue(e,d,b);null!=d&&null!=e&&(d.isRepeated()?a.add(d,e):a.set(d,e))}};goog.proto2.WireFormatSerializer.prototype.decodeVarInt=function(a){var b=a[this.deserializationIndex_++];127<b&&(b-=128,a=this.decodeVarInt(a),b+=a<<7);return b};
goog.proto2.WireFormatSerializer.prototype.decodeValue=function(a,b,c){var d;switch(a){case goog.proto2.WireFormatSerializer.WireType.VARINT:d=this.decodeVarIntTypes(b,c);break;case goog.proto2.WireFormatSerializer.WireType.LENGTH_DELIMITED:d=this.decodeLengthDelimited(b,c);break;case goog.proto2.WireFormatSerializer.WireType.FIXED32:d=this.decodeFixed32(b,c);break;case goog.proto2.WireFormatSerializer.WireType.FIXED64:d=this.decodeFixed64(b,c);break;default:this.badMessageFormat_("Unexpected wire type of "+
a)}return d};
goog.proto2.WireFormatSerializer.prototype.decodeVarIntTypes=function(a,b){var c=this.decodeVarInt(b);if(!a)return null;var d;switch(a.getFieldType()){case goog.proto2.FieldDescriptor.FieldType.INT64:case goog.proto2.FieldDescriptor.FieldType.UINT64:d=c.toString();break;case goog.proto2.FieldDescriptor.FieldType.INT32:case goog.proto2.FieldDescriptor.FieldType.UINT32:case goog.proto2.FieldDescriptor.FieldType.ENUM:d=c;break;case goog.proto2.FieldDescriptor.FieldType.SINT32:c=goog.math.Long.fromNumber(c);d=
this.zigZagDecode(c).toInt();break;case goog.proto2.FieldDescriptor.FieldType.SINT64:c=goog.math.Long.fromNumber(c);d=this.zigZagDecode(c).toString();break;case goog.proto2.FieldDescriptor.FieldType.BOOL:d=0===d?!1:!0;break;default:this.badMessageFormat_("Unexpected field type")}return d};
goog.proto2.WireFormatSerializer.prototype.decodeLengthDelimited=function(a,b){var c=this.decodeVarInt(b),d=new Uint8Array(b.buffer,b.byteOffset+this.deserializationIndex_,c);this.deserializationIndex_+=c;if(!a)return null;var e;switch(a.getFieldType()){case goog.proto2.FieldDescriptor.FieldType.STRING:e=UTF8ArrayToString(d);break;case goog.proto2.FieldDescriptor.FieldType.BYTES:e=UTF8ArrayToASCIIString(d);break;case goog.proto2.FieldDescriptor.FieldType.MESSAGE:e=(new goog.proto2.WireFormatSerializer).deserialize(a.getFieldMessageType(),
d);break;default:this.badMessageFormat_("Unexpected field type")}return e};
goog.proto2.WireFormatSerializer.prototype.decodeFixed32=function(a,b){var c=new DataView(b.buffer,b.byteOffset+this.deserializationIndex_,4);this.deserializationIndex_+=4;if(!a)return null;var d;switch(a.getFieldType()){case goog.proto2.FieldDescriptor.FieldType.FLOAT:d=c.getFloat32(0,!0);break;case goog.proto2.FieldDescriptor.FieldType.FIXED32:d=c.getUint32(0,!0);break;case goog.proto2.FieldDescriptor.FieldType.SFIXED32:d=c.getInt32(0,!0);break;default:this.badMessageFormat_("Unexpected field type")}return d};
goog.proto2.WireFormatSerializer.prototype.decodeFixed64=function(a,b){var c=new DataView(b.buffer,b.byteOffset+this.deserializationIndex_,8);this.deserializationIndex_+=8;if(!a)return null;var d;switch(a.getFieldType()){case goog.proto2.FieldDescriptor.FieldType.DOUBLE:d=c.getFloat64(0,!0);break;case goog.proto2.FieldDescriptor.FieldType.FIXED64:d=(new goog.math.Long(c.getUint32(0,!0),c.getUint32(4,!0))).toString();break;case goog.proto2.FieldDescriptor.FieldType.SFIXED64:d=(new goog.math.Long(c.getUint32(0,
!0),c.getInt32(4,!0))).toString();break;default:this.badMessageFormat_("Unexpected field type")}return d};goog.proto2.WireFormatSerializer.WireTypeForFieldType=function(a){return goog.proto2.WireFormatSerializer.kWireTypeForFieldType[a]};goog.proto2.WireFormatSerializer.WireType={VARINT:0,FIXED64:1,LENGTH_DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5};
goog.proto2.WireFormatSerializer.kWireTypeForFieldType=[-1,goog.proto2.WireFormatSerializer.WireType.FIXED64,goog.proto2.WireFormatSerializer.WireType.FIXED32,goog.proto2.WireFormatSerializer.WireType.VARINT,goog.proto2.WireFormatSerializer.WireType.VARINT,goog.proto2.WireFormatSerializer.WireType.VARINT,goog.proto2.WireFormatSerializer.WireType.FIXED64,goog.proto2.WireFormatSerializer.WireType.FIXED32,goog.proto2.WireFormatSerializer.WireType.VARINT,goog.proto2.WireFormatSerializer.WireType.LENGTH_DELIMITED,
goog.proto2.WireFormatSerializer.WireType.START_GROUP,goog.proto2.WireFormatSerializer.WireType.LENGTH_DELIMITED,goog.proto2.WireFormatSerializer.WireType.LENGTH_DELIMITED,goog.proto2.WireFormatSerializer.WireType.VARINT,goog.proto2.WireFormatSerializer.WireType.VARINT,goog.proto2.WireFormatSerializer.WireType.FIXED32,goog.proto2.WireFormatSerializer.WireType.FIXED64,goog.proto2.WireFormatSerializer.WireType.VARINT,goog.proto2.WireFormatSerializer.WireType.VARINT];rethinkdb.errors={};rethinkdb.errors.RuntimeError=function(a){this.name="Runtime Error";this.message=a||"The RDB runtime experienced an error"};goog.inherits(rethinkdb.errors.RuntimeError,Error);goog.exportSymbol("rethinkdb.errors.RuntimeError",rethinkdb.errors.RuntimeError);rethinkdb.errors.BrokenClient=function(a){this.name="Broken Client";this.message=a||"The client sent the server an incorrectly formatted message"};goog.inherits(rethinkdb.errors.BrokenClient,Error);
goog.exportSymbol("rethinkdb.errors.BrokenClient",rethinkdb.errors.BrokenClient);rethinkdb.errors.BadQuery=function(a){this.name="Bad Query";this.message=a||"This query contains type errors"};goog.inherits(rethinkdb.errors.BadQuery,Error);goog.exportSymbol("rethinkdb.errors.BadQuery",rethinkdb.errors.BadQuery);rethinkdb.errors.ClientError=function(a){this.name="RDB Client Error";this.message=a||"The RDB client has experienced an error"};goog.inherits(rethinkdb.errors.ClientError,Error);
goog.exportSymbol("rethinkdb.errors.ClientError",rethinkdb.errors.ClientError);rethinkdb.util.formatServerError_=function(a,b){var c=a.getErrorMessage(),d=a.getBacktrace(),e=[];d&&(e=d.frameArray());return c+"\n\t"+b.formatQuery()+"\n\t"+b.formatQuery(e)};
rethinkdb.util.makeFormat_=function(a,b,c){var d=Array.prototype.slice.call(arguments,2);return function(c){var f=d.map(function(a){return a instanceof rethinkdb.Query?a.formatQuery():a.toString()}),g=b.formatQuery()+"."+a+"("+f.join(", ")+")";if(c){if(0===c.length)return rethinkdb.util.carrotify_(g);g=c.shift();"lowerbound"===g?g="arg:1":"upperbound"===g&&(g="arg:2");var h=g.split(":");if("arg"===h[0])return h[1]=parseInt(h[1],10),f=f.map(rethinkdb.util.spaceify_),0===h[1]?g=b.formatQuery(c):(g=
rethinkdb.util.spaceify_(b.formatQuery()),h=h[1]-1,c=d[h].formatQuery(c),f[h]=c),f=f.join("  "),g+" "+rethinkdb.util.spaceify_(a)+" "+f+" "}else return g}};rethinkdb.util.spaceify_=function(a){return a.replace(/./g," ")};rethinkdb.util.carrotify_=function(a){return a.replace(/./g,"^")};rethinkdb.Cursor=function(a,b,c){this.conn_=a;this.query_=b;this.token_=c;this.partial_=[];this.done_=!1;this.continuation_=null;this.streamPaused_=!1};rethinkdb.Cursor.prototype.close=function(){this.conn_.forgetCursor(this.token_)};rethinkdb.Cursor.prototype.next=function(a){var b=this.partial_.shift();void 0===b?this.done_?a(b):(this.continuation_=goog.bind(this.next,this,a),this.loadMore()):a(b)&&this.next(a)};goog.exportProperty(rethinkdb.Cursor.prototype,"next",rethinkdb.Cursor.prototype.next);
rethinkdb.Cursor.prototype.collect=function(a){this.done_?a(this.partial_.splice(0,this.partial_.length)):(this.continuation_=goog.bind(this.collect,this,a),this.loadMore())};goog.exportProperty(rethinkdb.Cursor.prototype,"collect",rethinkdb.Cursor.prototype.collect);rethinkdb.Cursor.prototype.concatResults=function(a,b){goog.isArray(a)?Array.prototype.push.apply(this.partial_,a):this.partial_.push(a);this.done_=b;this.streamPaused_=!0;this.continuation_&&this.continuation_()};
rethinkdb.Cursor.prototype.loadMore=function(){this.streamPaused_&&this.conn_.requestNextBatch();this.streamPaused_=!1};rethinkdb.Connection=function(a,b){"undefined"===typeof a?a={}:"string"===typeof a&&(a={host:a});this.host_=a.host||this.DEFAULT_HOST;this.port_=a.port||this.DEFAULT_PORT;this.db_=a.db||this.DEFAULT_DB;rethinkdb.util.typeCheck_(this.host_,"string");rethinkdb.util.typeCheck_(this.port_,"number");rethinkdb.util.typeCheck_(this.db_,"string");this.outstandingQueries_={};this.nextToken_=1;this.errorHandler_=b||null;rethinkdb.last_connection_=this};rethinkdb.Connection.prototype.DEFAULT_HOST="localhost";
rethinkdb.Connection.prototype.DEFAULT_PORT=28015;rethinkdb.Connection.prototype.DEFAULT_DB="test";rethinkdb.Connection.prototype.reconnect=function(a){this.constructor.call(this,{host:this.host_,port:this.port_,db:this.db_},a,this.errorHandler_)};goog.exportProperty(rethinkdb.Connection.prototype,"reconnect",rethinkdb.Connection.prototype.reconnect);
rethinkdb.Connection.prototype.error_=function(a){if(this.errorHandler_)this.errorHandler_(a);else if(this.printErr_)console.log(a.name+":"+a.message);else throw a;};rethinkdb.Connection.prototype.setErrorHandler=function(a){this.errorHandler_=a};goog.exportProperty(rethinkdb.Connection.prototype,"setErrorHandler",rethinkdb.Connection.prototype.setErrorHandler);
rethinkdb.Connection.prototype.sendProtoBuf_=function(a){var a=(new goog.proto2.WireFormatSerializer).serialize(a),b=a.byteLength,c=new Uint8Array(b+4);(new DataView(c.buffer)).setInt32(0,b,!0);c.set(a,4);this.send_(c.buffer)};
rethinkdb.Connection.prototype.run=function(a,b){rethinkdb.util.argCheck_(arguments,1);var c=a.buildQuery({defaultAllowOutdated:!1});c.setToken((this.nextToken_++).toString());var d=new rethinkdb.Cursor(this,a,c.getToken());this.outstandingQueries_[c.getToken()]=d;this.sendProtoBuf_(c);b&&d.next(b);return d};goog.exportProperty(rethinkdb.Connection.prototype,"run",rethinkdb.Connection.prototype.run);
rethinkdb.Connection.prototype.recv_=function(a){goog.asserts.assert(4<=a.length);(new DataView(a.buffer)).getUint32(0,!0)!==a.length-4&&this.error_(new rethinkdb.errors.ClientError("RDB response corrupted, length inaccurate"));var b=new goog.proto2.WireFormatSerializer,c=new Response;try{b.deserializeTo(c,new Uint8Array(a.buffer,4)),console.log("Driver: Response received from the server"),console.log(c)}catch(d){this.error_(new rethinkdb.errors.ClientError("response deserialization failed"))}if(a=
this.outstandingQueries_[c.getToken()])switch(c.getStatusCode()){case Response.StatusCode.BROKEN_CLIENT:c=new rethinkdb.errors.BrokenClient(c.getErrorMessage());a.concatResults(c,!0);break;case Response.StatusCode.RUNTIME_ERROR:c=new rethinkdb.errors.RuntimeError(rethinkdb.util.formatServerError_(c,a.query_));a.concatResults(c,!0);break;case Response.StatusCode.BAD_QUERY:c=new rethinkdb.errors.BadQuery(c.getErrorMessage());a.concatResults(c,!0);break;case Response.StatusCode.SUCCESS_EMPTY:delete this.outstandingQueries_[c.getToken()];
a.concatResults([],!0);break;case Response.StatusCode.SUCCESS_STREAM:delete this.outstandingQueries_[c.getToken()];c=c.responseArray().map(JSON.parse);a.concatResults(c,!0);break;case Response.StatusCode.SUCCESS_JSON:delete this.outstandingQueries_[c.getToken()];c=JSON.parse(c.getResponse(0));a.concatResults(c,!0);break;case Response.StatusCode.SUCCESS_PARTIAL:c=c.responseArray().map(JSON.parse);a.concatResults(c,!1);break;default:c=new rethinkdb.errors.ClientError("unknown response status code"),
a.concatResults(c,!0)}};rethinkdb.Connection.prototype.use=function(a){rethinkdb.util.argCheck_(arguments,1);rethinkdb.util.typeCheck_(a,"string");this.db_=a};goog.exportProperty(rethinkdb.Connection.prototype,"use",rethinkdb.Connection.prototype.use);rethinkdb.Connection.prototype.getDefaultDb=function(){return this.db_};goog.exportProperty(rethinkdb.Connection.prototype,"getDefaultDb",rethinkdb.Connection.prototype.getDefaultDb);
rethinkdb.Connection.prototype.requestNextBatch=function(a){var b=new Query;b.setType(Query.QueryType.CONTINUE);b.setToken(a);this.sendProtoBuf_(b)};rethinkdb.Connection.prototype.forgetCursor=function(a){delete this.outstandingQueries_[a]};rethinkdb.AdminQuery=function(a,b){this.type_=a;this.dbName_=b||null};goog.inherits(rethinkdb.AdminQuery,rethinkdb.Query);rethinkdb.AdminQuery.prototype.buildQuery=function(){var a=new MetaQuery;a.setType(this.type_);this.dbName_&&a.setDbName(this.dbName_);var b=new Query;b.setType(Query.QueryType.META);b.setMetaQuery(a);return b};
rethinkdb.AdminQuery.prototype.formatQuery=function(a){var b=this.dbName_?"'"+this.dbName_+"'":"",c,d="";switch(this.type_){case MetaQuery.MetaQueryType.CREATE_DB:c="dbCreate";break;case MetaQuery.MetaQueryType.DROP_DB:c="dbDrop";break;case MetaQuery.MetaQueryType.LIST_DBS:c="dbList";break;case MetaQuery.MetaQueryType.LIST_TABLES:c="db",d=".tableList()"}b="r."+c+"("+b+")";c=b+d;return a?(goog.asserts.assert(0===a.length),rethinkdb.util.carrotify_(b)+rethinkdb.util.spaceify_(d)):c};
rethinkdb.dbCreate=function(a){rethinkdb.util.argCheck_(arguments,1);rethinkdb.util.typeCheck_(a,"string");return new rethinkdb.AdminQuery(MetaQuery.MetaQueryType.CREATE_DB,a)};goog.exportSymbol("rethinkdb.dbCreate",rethinkdb.dbCreate);rethinkdb.dbDrop=function(a){rethinkdb.util.argCheck_(arguments,1);rethinkdb.util.typeCheck_(a,"string");return new rethinkdb.AdminQuery(MetaQuery.MetaQueryType.DROP_DB,a)};goog.exportSymbol("rethinkdb.dbDrop",rethinkdb.dbDrop);rethinkdb.dbList=function(){return new rethinkdb.AdminQuery(MetaQuery.MetaQueryType.LIST_DBS)};
goog.exportSymbol("rethinkdb.dbList",rethinkdb.dbList);rethinkdb.Database=function(a){this.name_=a};rethinkdb.db=function(a){rethinkdb.util.argCheck_(arguments,1);rethinkdb.util.typeCheck_(a,"string");return new rethinkdb.Database(a)};goog.exportSymbol("rethinkdb.db",rethinkdb.db);rethinkdb.Database.prototype.tableList=function(){return new rethinkdb.AdminQuery(MetaQuery.MetaQueryType.LIST_TABLES,this.name_)};goog.exportProperty(rethinkdb.Database.prototype,"tableList",rethinkdb.Database.prototype.tableList);
rethinkdb.CreateTableQuery=function(a,b,c,d,e){this.dataCenter_=a;this.dbName_=b;this.tableName_=c;this.primaryKey_=d;this.cacheSize_=e};goog.inherits(rethinkdb.CreateTableQuery,rethinkdb.Query);
rethinkdb.CreateTableQuery.prototype.buildQuery=function(){var a=new TableRef;a.setDbName(this.dbName_);a.setTableName(this.tableName_);var b=new MetaQuery.CreateTable;this.dataCenter_&&b.setDatacenter(this.dataCenter_);b.setTableRef(a);this.primaryKey_&&b.setPrimaryKey(this.primaryKey_);this.cacheSize_&&b.setCacheSize(this.cacheSize_);a=new MetaQuery;a.setType(MetaQuery.MetaQueryType.CREATE_TABLE);a.setCreateTable(b);b=new Query;b.setType(Query.QueryType.META);b.setMetaQuery(a);return b};
rethinkdb.CreateTableQuery.prototype.formatQuery=function(a){var b;this.dataCenter_||this.primaryKey_||this.cacheSize_?(b=[],this.dataCenter_&&b.push("dataCenter: '"+this.dataCenter_+"'"),this.primaryKey_&&b.push("primaryKey: '"+this.primaryKey_+"'"),this.cacheSize_&&b.push("cacheSize: '"+this.cacheSize_+"'"),this.tableName_&&b.push("tableName: '"+this.tableName_+"'"),b="{"+b.join(", ")+"}"):b="'"+this.tableName_+"'";b="r.db('"+this.dbName_+"').create("+b+")";return a?rethinkdb.util.carrotify_(b):
b};rethinkdb.Database.prototype.tableCreate=function(a){rethinkdb.util.argCheck_(arguments,1);var b={};"string"===typeof a?b.tableName=a:b=a;rethinkdb.util.typeCheck_(b.tableName,"string");rethinkdb.util.typeCheck_(b.primaryKey,"string");rethinkdb.util.typeCheck_(b.dataCenter,"string");rethinkdb.util.typeCheck_(b.cacheSize,"string");return new rethinkdb.CreateTableQuery(b.dataCenter,this.name_,b.tableName,b.primaryKey,b.cacheSize)};goog.exportProperty(rethinkdb.Database.prototype,"tableCreate",rethinkdb.Database.prototype.tableCreate);
rethinkdb.DropTableQuery=function(a,b){rethinkdb.util.argCheck_(arguments,1);this.dbName_=a;this.tableName_=b};goog.inherits(rethinkdb.DropTableQuery,rethinkdb.Query);rethinkdb.DropTableQuery.prototype.buildQuery=function(){var a=new TableRef;a.setDbName(this.dbName_);a.setTableName(this.tableName_);var b=new MetaQuery;b.setType(MetaQuery.MetaQueryType.DROP_TABLE);b.setDropTable(a);a=new Query;a.setType(Query.QueryType.META);a.setMetaQuery(b);return a};
rethinkdb.DropTableQuery.prototype.formatQuery=function(a){return a?rethinkdb.util.carrotify_("r.db('"+this.dbName_+"').drop('"+this.tableName_+"')"):"r.db('"+this.dbName_+"').drop('"+this.tableName_+"')"};rethinkdb.Database.prototype.tableDrop=function(a){rethinkdb.util.argCheck_(arguments,1);rethinkdb.util.typeCheck_(a,"string");return new rethinkdb.DropTableQuery(this.name_,a)};goog.exportProperty(rethinkdb.Database.prototype,"tableDrop",rethinkdb.Database.prototype.tableDrop);
rethinkdb.Database.prototype.table=function(a,b){rethinkdb.util.argCheck_(arguments,1);rethinkdb.util.typeCheck_(a,"string");rethinkdb.util.typeCheck_(b,"boolean");return new rethinkdb.Table(a,this.name_,b)};goog.exportProperty(rethinkdb.Database.prototype,"table",rethinkdb.Database.prototype.table);rethinkdb.HttpConnection=function(a,b,c){rethinkdb.util.typeCheck_(b,"function");rethinkdb.util.typeCheck_(c,"function");rethinkdb.Connection.call(this,a,c);this.url_="";var d=this,e="http://"+this.host_+":"+this.port_+"/ajax/reql/",f=new XMLHttpRequest;f.open("GET",e+"open-new-connection",!0);f.responseType="arraybuffer";f.onreadystatechange=function(){4===f.readyState&&(200===f.status?(d.url_=e,d.conn_id_=(new DataView(f.response)).getInt32(0,!0),b&&b(d)):d.error_(new rethinkdb.errors.ClientError("Unabled to establish HTTP connection")))};
f.send()};goog.inherits(rethinkdb.HttpConnection,rethinkdb.Connection);goog.exportSymbol("rethinkdb.HttpConnection",rethinkdb.HttpConnection);rethinkdb.HttpConnection.prototype.DEFAULT_PORT=8080;
rethinkdb.HttpConnection.prototype.send_=function(a){this.url_||this.error_(new rethinkdb.errors.ClientError("Connection not open"));var b=new XMLHttpRequest;b.open("POST",this.url_+"?conn_id="+this.conn_id_,!0);b.responseType="arraybuffer";var c=this;b.onreadystatechange=function(){4===b.readyState&&200===b.status&&c.recv_(new Uint8Array(b.response))};b.send(a)};
rethinkdb.HttpConnection.prototype.close=function(){this.url_||this.error_(new rethinkdb.errors.ClientError("Connection not open"));var a=new XMLHttpRequest;a.open("POST",this.url_+"close-connection?conn_id="+this.conn_id_,!0);a.send();this.url_=this.conn_id_=null};goog.exportProperty(rethinkdb.HttpConnection.prototype,"close",rethinkdb.HttpConnection.prototype.close);rethinkdb.TcpConnection=function(a,b,c){rethinkdb.TcpConnection.isAvailable()||this.error_(new rethinkdb.errors.ClientError("Cannot instantiate TcpConnection, TCP sockets are not available in this environment."));rethinkdb.util.typeCheck_(b,"function");rethinkdb.util.typeCheck_(c,"function");rethinkdb.Connection.call(this,a,c);this.recvBuffer_=null;this.revdD_=0;this.socket_=null;var d=this;d.socket_=null;var e=require("net").connect(this.port_,this.host_,function(){e.write("35ba61af","hex");e.on("data",
goog.bind(d.tcpRecv_,d));e.on("end",function(){d.socket_=null;d.error_(new rethinkdb.errors.RuntimeError("Server disconnected"))});d.socket_=e;b&&b(d)});e.on("error",function(){d.error_(new rethinkdb.errors.ClientError("Unabled to establish TCP connection"))})};goog.inherits(rethinkdb.TcpConnection,rethinkdb.Connection);goog.exportSymbol("rethinkdb.TcpConnection",rethinkdb.TcpConnection);rethinkdb.TcpConnection.isAvailable=function(){return"undefined"!==typeof require&&require("net")};
goog.exportProperty(rethinkdb.TcpConnection,"isAvailable",rethinkdb.TcpConnection.isAvailable);rethinkdb.TcpConnection.prototype.send_=function(a){this.socket_||this.error_(new rethinkdb.errors.ClientError("Connection not open"));for(var b=new Buffer(a.byteLength),c=new Uint8Array(a),d=0;d<a.byteLength;d++)b[d]=c[d];this.socket_.write(b)};
rethinkdb.TcpConnection.prototype.tcpRecv_=function(a){for(var a=new Uint8Array(a),b=0,c=a.byteLength;0<c;){if(null===this.recvBuffer_){goog.asserts.assert(4<=c);var d=(new DataView(a.buffer,b,c)).getUint32(0,!0);this.recvBuffer_=new Uint8Array(d+4);this.recvD_=0}var d=this.recvBuffer_.byteLength-this.recvD_,e=c<d?c:d,f=new Uint8Array(a.buffer,b,e);this.recvBuffer_.set(f,this.recvD_);this.recvD_+=e;b+=e;c-=e;d-=e;0>=d&&(d=this.recvBuffer_,this.recvBuffer_=null,this.recvD_=0,this.recv_(d))}};
rethinkdb.TcpConnection.prototype.close=function(){this.socket_||this.error_(new rethinkdb.errors.ClientError("Connection not open"));var a=this;this.socket_.removeAllListeners("end");this.socket_.on("close",function(){a.socket_=null});this.socket_.end()};goog.exportProperty(rethinkdb.TcpConnection.prototype,"close",rethinkdb.TcpConnection.prototype.close);rethinkdb.DemoConnection=function(a){this.demo_server=a;rethinkdb.Connection.call(this,a,void 0)};goog.inherits(rethinkdb.DemoConnection,rethinkdb.Connection);goog.exportSymbol("rethinkdb.DemoConnection",rethinkdb.DemoConnection);rethinkdb.DemoConnection.prototype.send_=function(a){a=this.demo_server.execute(a);this.recv_(new Uint8Array(a))};rethinkdb.net={};rethinkdb.connect=function(a,b,c){return rethinkdb.TcpConnection.isAvailable()?new rethinkdb.TcpConnection(a,b,c):new rethinkdb.HttpConnection(a,b,c)};goog.exportSymbol("rethinkdb.connect",rethinkdb.connect);rethinkdb.demo_connect=function(a){return new rethinkdb.DemoConnection(a)};goog.exportSymbol("rethinkdb.demo_connect",rethinkdb.demo_connect);rethinkdb.last_connection_=null;rethinkdb.lastConnection=function(){return rethinkdb.last_connection_};
goog.exportSymbol("rethinkdb.lastConnection",rethinkdb.lastConnection);var topLevel={};"undefined"!==typeof exports&&("undefined"!==typeof module&&module.exports?exports=module.exports=goog.global.rethinkdb:exports.rethinkdb=goog.global.rethinkdb);
})();
